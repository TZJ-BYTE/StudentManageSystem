Index: src/main/java/com/cnlbc/controller/LoginController.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.cnlbc.controller;\n\nimport com.cnlbc.pojo.User;\nimport com.cnlbc.pojo.Msg;\nimport com.cnlbc.service.UserService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.List;\n\n@Controller\n@RequestMapping(\"/user\")\npublic class LoginController {\n\n    @Autowired\n    private UserService userService;\n\n    public LoginController() {\n    }\n\n    @PostMapping(consumes = \"application/json\")\n    @RequestMapping(\"/login\")\n    @ResponseBody\n    public Msg login(@RequestBody User user) {\n        String username = user.getUsername();\n        String password = user.getPassword();\n        Msg message = new Msg();\n        if (validateUser(username, password)) {\n            message.setMessage(\"登录成功\");\n            message.setSuccess(true);\n        } else {\n            message.setMessage(\"登录失败\");\n            message.setSuccess(false);\n        }\n        return message;\n    }\n\n    @RequestMapping(\"/loginpage\")\n    public String Loginpage(Model model){\n        //进入login页面\n        return \"login\";\n    }\n\n    //进入注册页面\n    @RequestMapping(\"/registerpage\")\n    public String Register(){\n        //进入注册页面\n        return \"register\";\n    }\n\n    //用户注册\n    @RequestMapping(\"/register\")\n    @ResponseBody\n    public Msg Registe() {\n        Msg message = new Msg();\n        message.setMessage(\"注册成功\");\n        message.setSuccess(true);\n        return message;\n    }\n    //进入查看信息页面\n    @RequestMapping(\"/mepage\")\n    public String Mepage(){\n        //进入查看信息页面\n        return \"me\";\n    }\n\n\n    //测试\n    @RequestMapping(\"/success\")\n    public String success(){\n        return \"success\";\n    }\n\n    private boolean validateUser(String username, String password) {\n        if (userService == null) {\n            throw new IllegalStateException(\"UserService未初始化\");\n        }\n        List<User> users = userService.findUserByName(username);\n        if (users != null && !users.isEmpty()) {\n            User user = users.get(0);\n            return user.getPassword().equals(password);\n        }\n        return false;\n    }\n    //进入更改密码页面\n    @RequestMapping(\"/me/passwordpage\")\n    public String passwordpage() {\n        return \"mepassword\";\n    }\n    //更改密码\n    @RequestMapping(\"/me/password\")\n    @ResponseBody\n    public Msg password() {\n        Msg message = new Msg();\n        message.setMessage(\"密码修改成功\");\n        message.setSuccess(true);\n        return message;\n    }\n\n}\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/java/com/cnlbc/controller/LoginController.java b/src/main/java/com/cnlbc/controller/LoginController.java
--- a/src/main/java/com/cnlbc/controller/LoginController.java	(revision 4a49462e1981e81c199d08907454e641d53cfb41)
+++ b/src/main/java/com/cnlbc/controller/LoginController.java	(date 1736832931511)
@@ -8,7 +8,10 @@
 import org.springframework.stereotype.Controller;
 import org.springframework.ui.Model;
 import org.springframework.web.bind.annotation.*;
+import org.springframework.web.servlet.ModelAndView;
 
+import javax.servlet.http.HttpSession;
+import java.lang.reflect.Type;
 import java.util.List;
 
 @Controller
@@ -17,6 +20,7 @@
 
     @Autowired
     private UserService userService;
+    private User user;
 
     public LoginController() {
     }
@@ -24,11 +28,12 @@
     @PostMapping(consumes = "application/json")
     @RequestMapping("/login")
     @ResponseBody
-    public Msg login(@RequestBody User user) {
+    public Msg login(@RequestBody User user, HttpSession session) {
         String username = user.getUsername();
         String password = user.getPassword();
         Msg message = new Msg();
         if (validateUser(username, password)) {
+            session.setAttribute("user", user); // 将用户对象存入会话
             message.setMessage("登录成功");
             message.setSuccess(true);
         } else {
@@ -37,7 +42,7 @@
         }
         return message;
     }
-
+    //进入login页面
     @RequestMapping("/loginpage")
     public String Loginpage(Model model){
         //进入login页面
@@ -52,22 +57,33 @@
     }
 
     //用户注册
-    @RequestMapping("/register")
+    @RequestMapping(value = "/register", method = RequestMethod.POST)
     @ResponseBody
-    public Msg Registe() {
-        Msg message = new Msg();
-        message.setMessage("注册成功");
-        message.setSuccess(true);
+    public Msg register(@RequestBody User user) { // 假设User类有username和password字段
+        Msg message = new Msg(false, "注册账号");
+        try {
+            userService.insertUser(user.getUsername(), user.getPassword());
+            message.setSuccess(true);
+            message.setMessage("注册成功");
+        } catch (Exception e) {
+            message.setSuccess(false);
+            message.setMessage("注册失败");
+        }
         return message;
     }
-    //进入查看信息页面
-    @RequestMapping("/mepage")
-    public String Mepage(){
-        //进入查看信息页面
-        return "me";
+    //进入主页面
+    @RequestMapping("/allfunspage")
+    public ModelAndView homepage(HttpSession session){
+        // 从会话中获取用户信息
+        User user = (User) session.getAttribute("user");
+        ModelAndView modelAndView = new ModelAndView("allfuns");
+        if (user != null) {
+            modelAndView.addObject("usermsg", user.getUsername());
+        } else {
+            modelAndView.addObject("usermsg", "未登录或用户信息丢失");
+        }
+        return modelAndView;
     }
-
-
     //测试
     @RequestMapping("/success")
     public String success(){
@@ -85,19 +101,53 @@
         }
         return false;
     }
-    //进入更改密码页面
-    @RequestMapping("/me/passwordpage")
-    public String passwordpage() {
-        return "mepassword";
-    }
     //更改密码
-    @RequestMapping("/me/password")
-    @ResponseBody
-    public Msg password() {
-        Msg message = new Msg();
-        message.setMessage("密码修改成功");
-        message.setSuccess(true);
-        return message;
+    // 处理 GET 请求，从请求参数中获取原始密码和新密码
+    @GetMapping("/updatepasswd")
+    public ResponseEntity<Boolean> updatePassword(@RequestParam String originalPassword,@RequestParam String newPassword,HttpSession session) {
+        boolean result;
+        User user = (User) session.getAttribute("user");
+        if(userService.findByPasswd(user.getUsername(),originalPassword)!=null){
+            try {
+                // 调用服务层方法来更新密码
+                userService.updatePassword(user.getUsername(), newPassword);
+                result=true;
+            } catch (Exception e) {
+                // 如果发生异常，则设置为false
+                result = false;
+            }
+        }
+       else result=false;
+        // 返回响应实体，包含结果和适当的HTTP状态码
+        return ResponseEntity.ok(result);
     }
+
+    //更改用户
+    @GetMapping("/updateusername")
+    public ResponseEntity<Boolean> updateUsername(@RequestParam String newValue, HttpSession session) {
+        Boolean result;
+        System.out.println("新的昵称是" + escapeSingleQuotes(newValue) + "");
+        User user = (User) session.getAttribute("user");
+        String username= user.getUsername();
+        System.out.println("旧的昵称是" + escapeSingleQuotes(user.getUsername()) + "");
+        try {
+            // 这里处理newValue
+            userService.updateUserName(escapeSingleQuotes(username), escapeSingleQuotes(newValue));
+            result = true;
+        } catch (Exception e) {
+            // 如果发生异常，则设置为false
+            result = false;
+        }
+        System.out.println("New nickname: '" + escapeSingleQuotes(newValue) + "'");
+        System.out.println(result);
+        // 返回响应实体，包含结果和适当的HTTP状态码
+        return ResponseEntity.ok(result);
+    }
+
+    // 方法来处理字符串，为其添加单引号
+    private String escapeSingleQuotes(String input) {
+        return "'" + input.replace("'", "''") + "'";
+    }
+
 
 }
Index: src/main/webapp/WEB-INF/jsp/me.jsp
===================================================================
diff --git a/src/main/webapp/WEB-INF/jsp/me.jsp b/src/main/webapp/WEB-INF/jsp/me.jsp
deleted file mode 100644
--- a/src/main/webapp/WEB-INF/jsp/me.jsp	(revision 4a49462e1981e81c199d08907454e641d53cfb41)
+++ /dev/null	(revision 4a49462e1981e81c199d08907454e641d53cfb41)
@@ -1,66 +0,0 @@
-<!DOCTYPE html>
-<%@ page contentType="text/html;charset=UTF-8" language="java" %>
-<%@ page isELIgnored="false" %>
-<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
-<html lang="en">
-<head>
-    <meta charset="UTF-8">
-    <title>用户信息查询</title>
-    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
-</head>
-<body>
-
-<h2>查询用户信息</h2>
-
-<form id="userInfoForm">
-    <label for="username">用户名:</label>
-    <input type="text" id="username" name="username" required>
-    <button type="submit">查询</button>
-    <button type="button" onclick="login()">返回登录</button>
-    <button type="button" onclick="mepassword()">修改密码</button>
-</form>
-
-<div id="userInfo"></div>
-<div id="responseMessage"></div>
-
-<script>
-function login() {
-    location.href = "${pageContext.request.contextPath}/user/loginpage";
-}
-    $(document).ready(function() {
-        $('#userInfoForm').submit(function(event) {
-            event.preventDefault(); // 阻止表单默认提交行为
-
-            var username = $('#username').val();
-
-            // 准备要发送的数据
-            var data = {
-                "username": username
-            };
-
-            // 发起AJAX POST请求以获取用户信息
-            $.ajax({
-                url: '${pageContext.request.contextPath}/user/me',
-                type: 'POST',
-                contentType: 'application/json', // 设置请求头内容类型为JSON
-                data: JSON.stringify(data), // 将JavaScript对象转换为JSON字符串
-                success: function(response) {
-                    // 请求成功时，将用户信息显示在页面上
-                    var userInfoHtml = '<p><strong>用户ID:</strong> ' + response.userId + '</p>' +
-                        '<p><strong>用户名:</strong> ' + response.username + '</p>';
-                    $('#userInfo').html(userInfoHtml);
-                },
-                error: function(xhr, status, error) {
-                    // 请求失败时显示错误信息
-                    $('#responseMessage').text('无法获取用户信息: ' + xhr.responseText).css('color', 'red');
-                }
-            });
-        });
-    });
-    function mepassword(){
-        location.href="${pageContext.request.contextPath}"+"/user/me/passwordpage"
-    }
-</script>
-
-</body>
-</html>
Index: target/MySSM/WEB-INF/jsp/me.jsp
===================================================================
diff --git a/target/MySSM/WEB-INF/jsp/me.jsp b/target/MySSM/WEB-INF/jsp/me.jsp
deleted file mode 100644
--- a/target/MySSM/WEB-INF/jsp/me.jsp	(revision 4a49462e1981e81c199d08907454e641d53cfb41)
+++ /dev/null	(revision 4a49462e1981e81c199d08907454e641d53cfb41)
@@ -1,66 +0,0 @@
-<!DOCTYPE html>
-<%@ page contentType="text/html;charset=UTF-8" language="java" %>
-<%@ page isELIgnored="false" %>
-<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
-<html lang="en">
-<head>
-    <meta charset="UTF-8">
-    <title>用户信息查询</title>
-    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
-</head>
-<body>
-
-<h2>查询用户信息</h2>
-
-<form id="userInfoForm">
-    <label for="username">用户名:</label>
-    <input type="text" id="username" name="username" required>
-    <button type="submit">查询</button>
-    <button type="button" onclick="login()">返回登录</button>
-    <button type="button" onclick="mepassword()">修改密码</button>
-</form>
-
-<div id="userInfo"></div>
-<div id="responseMessage"></div>
-
-<script>
-function login() {
-    location.href = "${pageContext.request.contextPath}/user/loginpage";
-}
-    $(document).ready(function() {
-        $('#userInfoForm').submit(function(event) {
-            event.preventDefault(); // 阻止表单默认提交行为
-
-            var username = $('#username').val();
-
-            // 准备要发送的数据
-            var data = {
-                "username": username
-            };
-
-            // 发起AJAX POST请求以获取用户信息
-            $.ajax({
-                url: '${pageContext.request.contextPath}/user/me',
-                type: 'POST',
-                contentType: 'application/json', // 设置请求头内容类型为JSON
-                data: JSON.stringify(data), // 将JavaScript对象转换为JSON字符串
-                success: function(response) {
-                    // 请求成功时，将用户信息显示在页面上
-                    var userInfoHtml = '<p><strong>用户ID:</strong> ' + response.userId + '</p>' +
-                        '<p><strong>用户名:</strong> ' + response.username + '</p>';
-                    $('#userInfo').html(userInfoHtml);
-                },
-                error: function(xhr, status, error) {
-                    // 请求失败时显示错误信息
-                    $('#responseMessage').text('无法获取用户信息: ' + xhr.responseText).css('color', 'red');
-                }
-            });
-        });
-    });
-    function mepassword(){
-        location.href="${pageContext.request.contextPath}"+"/user/me/passwordpage"
-    }
-</script>
-
-</body>
-</html>
Index: .idea/compiler.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<project version=\"4\">\n  <component name=\"CompilerConfiguration\">\n    <annotationProcessing>\n      <profile default=\"true\" name=\"Default\" enabled=\"true\" />\n      <profile name=\"Maven default annotation processors profile\" enabled=\"true\">\n        <sourceOutputDir name=\"target/generated-sources/annotations\" />\n        <sourceTestOutputDir name=\"target/generated-test-sources/test-annotations\" />\n        <outputRelativeToContentRoot value=\"true\" />\n        <module name=\"MySSM\" />\n      </profile>\n    </annotationProcessing>\n  </component>\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/compiler.xml b/.idea/compiler.xml
--- a/.idea/compiler.xml	(revision 4a49462e1981e81c199d08907454e641d53cfb41)
+++ b/.idea/compiler.xml	(date 1736832929574)
@@ -8,6 +8,7 @@
         <sourceTestOutputDir name="target/generated-test-sources/test-annotations" />
         <outputRelativeToContentRoot value="true" />
         <module name="MySSM" />
+        <module name="StudentManageSystem" />
       </profile>
     </annotationProcessing>
   </component>
Index: .idea/workspace.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<project version=\"4\">\n  <component name=\"ArtifactsWorkspaceSettings\">\n    <artifacts-to-build>\n      <artifact name=\"MySSM:war\" />\n    </artifacts-to-build>\n  </component>\n  <component name=\"AutoImportSettings\">\n    <option name=\"autoReloadType\" value=\"SELECTIVE\" />\n  </component>\n  <component name=\"ChangeListManager\">\n    <list default=\"true\" id=\"d027a2ce-1732-460e-bf18-fa3afdfc0b20\" name=\"Changes\" comment=\"2\" />\n    <option name=\"SHOW_DIALOG\" value=\"false\" />\n    <option name=\"HIGHLIGHT_CONFLICTS\" value=\"true\" />\n    <option name=\"HIGHLIGHT_NON_ACTIVE_CHANGELIST\" value=\"false\" />\n    <option name=\"LAST_RESOLUTION\" value=\"IGNORE\" />\n  </component>\n  <component name=\"FileTemplateManagerImpl\">\n    <option name=\"RECENT_TEMPLATES\">\n      <list>\n        <option value=\"Jsp File\" />\n      </list>\n    </option>\n  </component>\n  <component name=\"Git.Settings\">\n    <option name=\"RECENT_GIT_ROOT_PATH\" value=\"$PROJECT_DIR$\" />\n  </component>\n  <component name=\"LogFilters\">\n    <option name=\"FILTER_ERRORS\" value=\"false\" />\n    <option name=\"FILTER_WARNINGS\" value=\"false\" />\n    <option name=\"FILTER_INFO\" value=\"true\" />\n    <option name=\"FILTER_DEBUG\" value=\"true\" />\n    <option name=\"CUSTOM_FILTER\" />\n  </component>\n  <component name=\"MarkdownSettingsMigration\">\n    <option name=\"stateVersion\" value=\"1\" />\n  </component>\n  <component name=\"MavenImportPreferences\">\n    <option name=\"generalSettings\">\n      <MavenGeneralSettings>\n        <option name=\"useMavenConfig\" value=\"true\" />\n      </MavenGeneralSettings>\n    </option>\n  </component>\n  <component name=\"ProjectId\" id=\"2r6C3xSzgP4SfJFaUnY0Xn3uAtD\" />\n  <component name=\"ProjectLevelVcsManager\">\n    <ConfirmationsSetting value=\"2\" id=\"Add\" />\n  </component>\n  <component name=\"ProjectViewState\">\n    <option name=\"hideEmptyMiddlePackages\" value=\"true\" />\n    <option name=\"showLibraryContents\" value=\"true\" />\n  </component>\n  <component name=\"PropertiesComponent\"><![CDATA[{\n  \"keyToString\": {\n    \"RunOnceActivity.OpenProjectViewOnStart\": \"true\",\n    \"RunOnceActivity.ShowReadmeOnStart\": \"true\",\n    \"WebServerToolWindowFactoryState\": \"false\",\n    \"nodejs_package_manager_path\": \"npm\",\n    \"spring.configuration.checksum\": \"1f27b7840dc100f3672613a1c2cbb827\"\n  }\n}]]></component>\n  <component name=\"RunManager\">\n    <configuration name=\"Tomcat 9.0.98\" type=\"#com.intellij.j2ee.web.tomcat.TomcatRunConfigurationFactory\" factoryName=\"Local\" APPLICATION_SERVER_NAME=\"Tomcat 9.0.98\" ALTERNATIVE_JRE_ENABLED=\"false\" nameIsGenerated=\"true\">\n      <option name=\"BROWSER_ID\" value=\"37cae5b9-e8b2-4949-9172-aafa37fbc09c\" />\n      <option name=\"UPDATING_POLICY\" value=\"restart-server\" />\n      <deployment>\n        <artifact name=\"MySSM:war\">\n          <settings>\n            <option name=\"CONTEXT_PATH\" value=\"/MySSM_war\" />\n          </settings>\n        </artifact>\n      </deployment>\n      <server-settings>\n        <option name=\"BASE_DIRECTORY_NAME\" value=\"0107c771-7a51-49b3-a37e-65d67ecfc876\" />\n      </server-settings>\n      <predefined_log_file enabled=\"true\" id=\"Tomcat\" />\n      <predefined_log_file enabled=\"true\" id=\"Tomcat Catalina\" />\n      <predefined_log_file id=\"Tomcat Manager\" />\n      <predefined_log_file id=\"Tomcat Host Manager\" />\n      <predefined_log_file id=\"Tomcat Localhost Access\" />\n      <RunnerSettings RunnerId=\"Debug\">\n        <option name=\"DEBUG_PORT\" value=\"3716\" />\n      </RunnerSettings>\n      <ConfigurationWrapper VM_VAR=\"JAVA_OPTS\" RunnerId=\"Cover\">\n        <option name=\"USE_ENV_VARIABLES\" value=\"true\" />\n        <STARTUP>\n          <option name=\"USE_DEFAULT\" value=\"true\" />\n          <option name=\"SCRIPT\" value=\"\" />\n          <option name=\"VM_PARAMETERS\" value=\"\" />\n          <option name=\"PROGRAM_PARAMETERS\" value=\"\" />\n        </STARTUP>\n        <SHUTDOWN>\n          <option name=\"USE_DEFAULT\" value=\"true\" />\n          <option name=\"SCRIPT\" value=\"\" />\n          <option name=\"VM_PARAMETERS\" value=\"\" />\n          <option name=\"PROGRAM_PARAMETERS\" value=\"\" />\n        </SHUTDOWN>\n      </ConfigurationWrapper>\n      <ConfigurationWrapper VM_VAR=\"JAVA_OPTS\" RunnerId=\"Debug\">\n        <option name=\"USE_ENV_VARIABLES\" value=\"true\" />\n        <STARTUP>\n          <option name=\"USE_DEFAULT\" value=\"true\" />\n          <option name=\"SCRIPT\" value=\"\" />\n          <option name=\"VM_PARAMETERS\" value=\"\" />\n          <option name=\"PROGRAM_PARAMETERS\" value=\"\" />\n        </STARTUP>\n        <SHUTDOWN>\n          <option name=\"USE_DEFAULT\" value=\"true\" />\n          <option name=\"SCRIPT\" value=\"\" />\n          <option name=\"VM_PARAMETERS\" value=\"\" />\n          <option name=\"PROGRAM_PARAMETERS\" value=\"\" />\n        </SHUTDOWN>\n      </ConfigurationWrapper>\n      <ConfigurationWrapper VM_VAR=\"JAVA_OPTS\" RunnerId=\"Profile\">\n        <option name=\"USE_ENV_VARIABLES\" value=\"true\" />\n        <STARTUP>\n          <option name=\"USE_DEFAULT\" value=\"true\" />\n          <option name=\"SCRIPT\" value=\"\" />\n          <option name=\"VM_PARAMETERS\" value=\"\" />\n          <option name=\"PROGRAM_PARAMETERS\" value=\"\" />\n        </STARTUP>\n        <SHUTDOWN>\n          <option name=\"USE_DEFAULT\" value=\"true\" />\n          <option name=\"SCRIPT\" value=\"\" />\n          <option name=\"VM_PARAMETERS\" value=\"\" />\n          <option name=\"PROGRAM_PARAMETERS\" value=\"\" />\n        </SHUTDOWN>\n      </ConfigurationWrapper>\n      <ConfigurationWrapper VM_VAR=\"JAVA_OPTS\" RunnerId=\"Run\">\n        <option name=\"USE_ENV_VARIABLES\" value=\"true\" />\n        <STARTUP>\n          <option name=\"USE_DEFAULT\" value=\"true\" />\n          <option name=\"SCRIPT\" value=\"\" />\n          <option name=\"VM_PARAMETERS\" value=\"\" />\n          <option name=\"PROGRAM_PARAMETERS\" value=\"\" />\n        </STARTUP>\n        <SHUTDOWN>\n          <option name=\"USE_DEFAULT\" value=\"true\" />\n          <option name=\"SCRIPT\" value=\"\" />\n          <option name=\"VM_PARAMETERS\" value=\"\" />\n          <option name=\"PROGRAM_PARAMETERS\" value=\"\" />\n        </SHUTDOWN>\n      </ConfigurationWrapper>\n      <method v=\"2\">\n        <option name=\"Make\" enabled=\"true\" />\n        <option name=\"BuildArtifacts\" enabled=\"true\">\n          <artifact name=\"MySSM:war\" />\n        </option>\n      </method>\n    </configuration>\n  </component>\n  <component name=\"SpellCheckerSettings\" RuntimeDictionaries=\"0\" Folders=\"0\" CustomDictionaries=\"0\" DefaultDictionary=\"application-level\" UseSingleDictionary=\"true\" transferred=\"true\" />\n  <component name=\"TaskManager\">\n    <task active=\"true\" id=\"Default\" summary=\"Default task\">\n      <changelist id=\"d027a2ce-1732-460e-bf18-fa3afdfc0b20\" name=\"Changes\" comment=\"\" />\n      <created>1735869944515</created>\n      <option name=\"number\" value=\"Default\" />\n      <option name=\"presentableId\" value=\"Default\" />\n      <updated>1735869944515</updated>\n      <workItem from=\"1735869945948\" duration=\"561000\" />\n      <workItem from=\"1735870524078\" duration=\"4284000\" />\n    </task>\n    <task id=\"LOCAL-00001\" summary=\"2\">\n      <created>1735871983949</created>\n      <option name=\"number\" value=\"00001\" />\n      <option name=\"presentableId\" value=\"LOCAL-00001\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1735871983949</updated>\n    </task>\n    <task id=\"LOCAL-00002\" summary=\"2\">\n      <created>1735871988018</created>\n      <option name=\"number\" value=\"00002\" />\n      <option name=\"presentableId\" value=\"LOCAL-00002\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1735871988018</updated>\n    </task>\n    <task id=\"LOCAL-00003\" summary=\"2\">\n      <created>1735874683664</created>\n      <option name=\"number\" value=\"00003\" />\n      <option name=\"presentableId\" value=\"LOCAL-00003\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1735874683664</updated>\n    </task>\n    <option name=\"localTasksCounter\" value=\"4\" />\n    <servers />\n  </component>\n  <component name=\"TypeScriptGeneratedFilesManager\">\n    <option name=\"version\" value=\"3\" />\n  </component>\n  <component name=\"Vcs.Log.Tabs.Properties\">\n    <option name=\"TAB_STATES\">\n      <map>\n        <entry key=\"MAIN\">\n          <value>\n            <State />\n          </value>\n        </entry>\n      </map>\n    </option>\n  </component>\n  <component name=\"VcsManagerConfiguration\">\n    <MESSAGE value=\"2\" />\n    <option name=\"LAST_COMMIT_MESSAGE\" value=\"2\" />\n  </component>\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/workspace.xml b/.idea/workspace.xml
--- a/.idea/workspace.xml	(revision 4a49462e1981e81c199d08907454e641d53cfb41)
+++ b/.idea/workspace.xml	(date 1736832949362)
@@ -9,7 +9,11 @@
     <option name="autoReloadType" value="SELECTIVE" />
   </component>
   <component name="ChangeListManager">
-    <list default="true" id="d027a2ce-1732-460e-bf18-fa3afdfc0b20" name="Changes" comment="2" />
+    <list default="true" id="d027a2ce-1732-460e-bf18-fa3afdfc0b20" name="Changes" comment="教师模块优化">
+      <change beforePath="$PROJECT_DIR$/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/workspace.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/MySSM.war" beforeDir="false" afterPath="$PROJECT_DIR$/target/MySSM.war" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/MySSM/WEB-INF/jsp/allfuns.jsp" beforeDir="false" afterPath="$PROJECT_DIR$/target/MySSM/WEB-INF/jsp/allfuns.jsp" afterDir="false" />
+    </list>
     <option name="SHOW_DIALOG" value="false" />
     <option name="HIGHLIGHT_CONFLICTS" value="true" />
     <option name="HIGHLIGHT_NON_ACTIVE_CHANGELIST" value="false" />
@@ -19,12 +23,32 @@
     <option name="RECENT_TEMPLATES">
       <list>
         <option value="Jsp File" />
+        <option value="Class" />
+        <option value="JavaScript File" />
+        <option value="CSS File" />
       </list>
     </option>
   </component>
   <component name="Git.Settings">
+    <option name="RECENT_BRANCH_BY_REPOSITORY">
+      <map>
+        <entry key="$PROJECT_DIR$" value="master" />
+      </map>
+    </option>
     <option name="RECENT_GIT_ROOT_PATH" value="$PROJECT_DIR$" />
   </component>
+  <component name="GitHubPullRequestSearchHistory">{
+  &quot;lastFilter&quot;: {
+    &quot;state&quot;: &quot;OPEN&quot;,
+    &quot;assignee&quot;: &quot;TZJ-BYTE&quot;
+  }
+}</component>
+  <component name="GithubPullRequestsUISettings">{
+  &quot;selectedUrlAndAccountId&quot;: {
+    &quot;url&quot;: &quot;git@github.com:TZJ-BYTE/StudentManageSystem.git&quot;,
+    &quot;accountId&quot;: &quot;bdbd2299-546e-4992-a0c5-6a3e87ec9cb3&quot;
+  }
+}</component>
   <component name="LogFilters">
     <option name="FILTER_ERRORS" value="false" />
     <option name="FILTER_WARNINGS" value="false" />
@@ -35,38 +59,51 @@
   <component name="MarkdownSettingsMigration">
     <option name="stateVersion" value="1" />
   </component>
-  <component name="MavenImportPreferences">
-    <option name="generalSettings">
-      <MavenGeneralSettings>
-        <option name="useMavenConfig" value="true" />
-      </MavenGeneralSettings>
-    </option>
-  </component>
+  <component name="ProjectColorInfo">{
+  &quot;associatedIndex&quot;: 4
+}</component>
   <component name="ProjectId" id="2r6C3xSzgP4SfJFaUnY0Xn3uAtD" />
-  <component name="ProjectLevelVcsManager">
+  <component name="ProjectLevelVcsManager" settingsEditedManually="true">
     <ConfirmationsSetting value="2" id="Add" />
   </component>
   <component name="ProjectViewState">
     <option name="hideEmptyMiddlePackages" value="true" />
     <option name="showLibraryContents" value="true" />
   </component>
-  <component name="PropertiesComponent"><![CDATA[{
-  "keyToString": {
-    "RunOnceActivity.OpenProjectViewOnStart": "true",
-    "RunOnceActivity.ShowReadmeOnStart": "true",
-    "WebServerToolWindowFactoryState": "false",
-    "nodejs_package_manager_path": "npm",
-    "spring.configuration.checksum": "1f27b7840dc100f3672613a1c2cbb827"
+  <component name="PropertiesComponent">{
+  &quot;keyToString&quot;: {
+    &quot;ASKED_ADD_EXTERNAL_FILES&quot;: &quot;true&quot;,
+    &quot;Maven.MySSM [clean].executor&quot;: &quot;Run&quot;,
+    &quot;Maven.MySSM [install].executor&quot;: &quot;Run&quot;,
+    &quot;RunOnceActivity.OpenProjectViewOnStart&quot;: &quot;true&quot;,
+    &quot;RunOnceActivity.ShowReadmeOnStart&quot;: &quot;true&quot;,
+    &quot;SHARE_PROJECT_CONFIGURATION_FILES&quot;: &quot;true&quot;,
+    &quot;Tomcat Server.Tomcat .executor&quot;: &quot;Run&quot;,
+    &quot;WebServerToolWindowFactoryState&quot;: &quot;false&quot;,
+    &quot;git-widget-placeholder&quot;: &quot;tzj&quot;,
+    &quot;kotlin-language-version-configured&quot;: &quot;true&quot;,
+    &quot;list.type.of.created.stylesheet&quot;: &quot;CSS&quot;,
+    &quot;node.js.detected.package.eslint&quot;: &quot;true&quot;,
+    &quot;node.js.selected.package.eslint&quot;: &quot;(autodetect)&quot;,
+    &quot;node.js.selected.package.tslint&quot;: &quot;(autodetect)&quot;,
+    &quot;nodejs_package_manager_path&quot;: &quot;npm&quot;,
+    &quot;settings.editor.selected.configurable&quot;: &quot;reference.settings.ide.settings.web.browsers&quot;,
+    &quot;spring.configuration.checksum&quot;: &quot;1f27b7840dc100f3672613a1c2cbb827&quot;,
+    &quot;vue.rearranger.settings.migration&quot;: &quot;true&quot;
   }
-}]]></component>
+}</component>
+  <component name="RecentsManager">
+    <key name="MoveFile.RECENT_KEYS">
+      <recent name="$PROJECT_DIR$/src/main/webapp/WEB-INF/css" />
+    </key>
+  </component>
   <component name="RunManager">
-    <configuration name="Tomcat 9.0.98" type="#com.intellij.j2ee.web.tomcat.TomcatRunConfigurationFactory" factoryName="Local" APPLICATION_SERVER_NAME="Tomcat 9.0.98" ALTERNATIVE_JRE_ENABLED="false" nameIsGenerated="true">
-      <option name="BROWSER_ID" value="37cae5b9-e8b2-4949-9172-aafa37fbc09c" />
+    <configuration name="Tomcat " type="#com.intellij.j2ee.web.tomcat.TomcatRunConfigurationFactory" factoryName="Local" APPLICATION_SERVER_NAME="Tomcat " ALTERNATIVE_JRE_ENABLED="false" nameIsGenerated="true">
       <option name="UPDATING_POLICY" value="restart-server" />
       <deployment>
-        <artifact name="MySSM:war">
+        <artifact name="StudentManageSystem:war">
           <settings>
-            <option name="CONTEXT_PATH" value="/MySSM_war" />
+            <option name="CONTEXT_PATH" value="/StudentManageSystem_war" />
           </settings>
         </artifact>
       </deployment>
@@ -142,13 +179,21 @@
         </SHUTDOWN>
       </ConfigurationWrapper>
       <method v="2">
-        <option name="Make" enabled="true" />
         <option name="BuildArtifacts" enabled="true">
           <artifact name="MySSM:war" />
+          <artifact name="StudentManageSystem:war" />
         </option>
       </method>
     </configuration>
   </component>
+  <component name="SharedIndexes">
+    <attachedChunks>
+      <set>
+        <option value="bundled-jdk-9f38398b9061-39b83d9b5494-intellij.indexing.shared.core-IU-241.19416.15" />
+        <option value="bundled-js-predefined-1d06a55b98c1-0b3e54e931b4-JavaScript-IU-241.19416.15" />
+      </set>
+    </attachedChunks>
+  </component>
   <component name="SpellCheckerSettings" RuntimeDictionaries="0" Folders="0" CustomDictionaries="0" DefaultDictionary="application-level" UseSingleDictionary="true" transferred="true" />
   <component name="TaskManager">
     <task active="true" id="Default" summary="Default task">
@@ -159,6 +204,12 @@
       <updated>1735869944515</updated>
       <workItem from="1735869945948" duration="561000" />
       <workItem from="1735870524078" duration="4284000" />
+      <workItem from="1736574882198" duration="13438000" />
+      <workItem from="1736658738378" duration="1144000" />
+      <workItem from="1736659934609" duration="347000" />
+      <workItem from="1736660295108" duration="7697000" />
+      <workItem from="1736685475195" duration="3278000" />
+      <workItem from="1736760700069" duration="5697000" />
     </task>
     <task id="LOCAL-00001" summary="2">
       <created>1735871983949</created>
@@ -175,13 +226,22 @@
       <updated>1735871988018</updated>
     </task>
     <task id="LOCAL-00003" summary="2">
-      <created>1735874683664</created>
+      <option name="closed" value="true" />
+      <created>1735919178213</created>
       <option name="number" value="00003" />
       <option name="presentableId" value="LOCAL-00003" />
       <option name="project" value="LOCAL" />
-      <updated>1735874683664</updated>
+      <updated>1735919178213</updated>
     </task>
-    <option name="localTasksCounter" value="4" />
+    <task id="LOCAL-00004" summary="1.0">
+      <option name="closed" value="true" />
+      <created>1736086855969</created>
+      <option name="number" value="00004" />
+      <option name="presentableId" value="LOCAL-00004" />
+      <option name="project" value="LOCAL" />
+      <updated>1736086855969</updated>
+    </task>
+    <option name="localTasksCounter" value="5" />
     <servers />
   </component>
   <component name="TypeScriptGeneratedFilesManager">
@@ -199,7 +259,10 @@
     </option>
   </component>
   <component name="VcsManagerConfiguration">
+    <option name="ADD_EXTERNAL_FILES_SILENTLY" value="true" />
     <MESSAGE value="2" />
-    <option name="LAST_COMMIT_MESSAGE" value="2" />
+    <MESSAGE value="1.0" />
+    <MESSAGE value="教师模块优化" />
+    <option name="LAST_COMMIT_MESSAGE" value="教师模块优化" />
   </component>
 </project>
\ No newline at end of file
Index: target/MySSM/WEB-INF/classes/spring-mvc.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xmlns:context=\"http://www.springframework.org/schema/context\"\n       xmlns:mvc=\"http://www.springframework.org/schema/mvc\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\n        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.0.xsd\n        http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-3.2.xsd\">\n    <!--启动注解驱动-->\n    <mvc:annotation-driven></mvc:annotation-driven>\n    <!--扫描业务代码-->\n    <context:component-scan base-package=\"com.cnlbc\"></context:component-scan>\n    <!--静态资源过滤器-->\n    <mvc:default-servlet-handler></mvc:default-servlet-handler>\n    <mvc:resources mapping=\"/js/**\" location=\"WEB-INF/js/\"></mvc:resources>\n    <mvc:resources mapping=\"/css/**\" location=\"WEB-INF/css/\"></mvc:resources>\n    <mvc:resources mapping=\"/images/**\" location=\"WEB-INF/images\"></mvc:resources>\n    <!--转换器-->\n    <mvc:annotation-driven>\n        <mvc:message-converters>\n            <bean class=\"org.springframework.http.converter.StringHttpMessageConverter\"/>\n            <bean class=\"org.springframework.http.converter.json.MappingJackson2HttpMessageConverter\"/>\n        </mvc:message-converters>\n    </mvc:annotation-driven>\n    <!--配置视图解析器-->\n    <bean class=\"org.springframework.web.servlet.view.InternalResourceViewResolver\">\n        <!--前缀-->\n        <property name=\"prefix\" value=\"/WEB-INF/jsp/\"></property>\n        <!--后缀-->\n        <property name=\"suffix\" value=\".jsp\"></property>\n    </bean>\n</beans>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/target/MySSM/WEB-INF/classes/spring-mvc.xml b/target/MySSM/WEB-INF/classes/spring-mvc.xml
--- a/target/MySSM/WEB-INF/classes/spring-mvc.xml	(revision 4a49462e1981e81c199d08907454e641d53cfb41)
+++ b/target/MySSM/WEB-INF/classes/spring-mvc.xml	(date 1736832952827)
@@ -12,9 +12,9 @@
     <context:component-scan base-package="com.cnlbc"></context:component-scan>
     <!--静态资源过滤器-->
     <mvc:default-servlet-handler></mvc:default-servlet-handler>
-    <mvc:resources mapping="/js/**" location="WEB-INF/js/"></mvc:resources>
-    <mvc:resources mapping="/css/**" location="WEB-INF/css/"></mvc:resources>
-    <mvc:resources mapping="/images/**" location="WEB-INF/images"></mvc:resources>
+    <mvc:resources mapping="/js/**" location="/WEB-INF/js/"></mvc:resources>
+    <mvc:resources mapping="/css/**" location="/WEB-INF/css/"></mvc:resources>
+    <mvc:resources mapping="/images/**" location="/WEB-INF/images/"></mvc:resources>
     <!--转换器-->
     <mvc:annotation-driven>
         <mvc:message-converters>
Index: src/main/java/com/cnlbc/service/StudentService.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/java/com/cnlbc/service/StudentService.java b/src/main/java/com/cnlbc/service/StudentService.java
new file mode 100644
--- /dev/null	(date 1736832908136)
+++ b/src/main/java/com/cnlbc/service/StudentService.java	(date 1736832908136)
@@ -0,0 +1,14 @@
+package com.cnlbc.service;
+
+import com.cnlbc.pojo.Student;
+import com.cnlbc.repository.StudentRepository;
+import org.springframework.beans.factory.annotation.Autowired;
+import org.springframework.stereotype.Service;
+
+import java.util.List;
+
+// StudentService.java
+@Service
+public interface StudentService {
+
+}
\ No newline at end of file
Index: src/main/java/com/cnlbc/service/ClassService.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/java/com/cnlbc/service/ClassService.java b/src/main/java/com/cnlbc/service/ClassService.java
new file mode 100644
--- /dev/null	(date 1736832908136)
+++ b/src/main/java/com/cnlbc/service/ClassService.java	(date 1736832908136)
@@ -0,0 +1,12 @@
+package com.cnlbc.service;
+
+import com.cnlbc.repository.ClassRepository;
+import org.springframework.beans.factory.annotation.Autowired;
+import org.springframework.stereotype.Service;
+
+import java.util.List;
+
+
+public interface ClassService {
+
+}
Index: src/main/java/com/cnlbc/service/CourseServiceImpl.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/java/com/cnlbc/service/CourseServiceImpl.java b/src/main/java/com/cnlbc/service/CourseServiceImpl.java
new file mode 100644
--- /dev/null	(date 1736832908136)
+++ b/src/main/java/com/cnlbc/service/CourseServiceImpl.java	(date 1736832908136)
@@ -0,0 +1,14 @@
+package com.cnlbc.service;
+
+import com.cnlbc.pojo.Course;
+import com.cnlbc.repository.CourseRepository;
+import org.springframework.stereotype.Service;
+import org.springframework.transaction.annotation.Transactional;
+import javax.annotation.Resource;
+import java.util.List;
+
+@Service
+@Transactional
+public class CourseServiceImpl implements CourseService {
+
+}
\ No newline at end of file
Index: src/main/java/com/cnlbc/service/CourseService.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/java/com/cnlbc/service/CourseService.java b/src/main/java/com/cnlbc/service/CourseService.java
new file mode 100644
--- /dev/null	(date 1736832908136)
+++ b/src/main/java/com/cnlbc/service/CourseService.java	(date 1736832908136)
@@ -0,0 +1,7 @@
+package com.cnlbc.service;
+import com.cnlbc.pojo.Course;
+
+import java.util.List;
+
+public interface CourseService {
+}
\ No newline at end of file
Index: src/main/java/com/cnlbc/service/TeacherServiceImpl.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/java/com/cnlbc/service/TeacherServiceImpl.java b/src/main/java/com/cnlbc/service/TeacherServiceImpl.java
new file mode 100644
--- /dev/null	(date 1736832908136)
+++ b/src/main/java/com/cnlbc/service/TeacherServiceImpl.java	(date 1736832908136)
@@ -0,0 +1,45 @@
+package com.cnlbc.service;
+
+import com.cnlbc.pojo.Teacher;
+import com.cnlbc.repository.TeacherRepository;
+import org.springframework.beans.factory.annotation.Autowired;
+import org.springframework.stereotype.Service;
+
+import java.util.List;
+
+@Service
+public class TeacherServiceImpl implements TeacherService {
+    @Autowired
+    private TeacherRepository teacherRepository;
+
+    @Override
+    public List<Teacher> findAllTeacher() {
+        System.out.println("findAllTeacher"+teacherRepository.findAllTeacher());
+        return teacherRepository.findAllTeacher();
+    }
+
+    @Override
+    public Teacher findTeacherById(String teacherId) {
+        return teacherRepository.findTeacherById(teacherId);
+    }
+
+    @Override
+    public void addTeacher(Teacher teacher) {
+        teacherRepository.addTeacher(teacher);
+    }
+
+    @Override
+    public void updateTeacher(Teacher teacher) {
+        teacherRepository.updateTeacher(teacher);
+    }
+
+    @Override
+    public void deleteTeacher(String teacherId) {
+        teacherRepository.deleteTeacher(teacherId);
+    }
+
+    @Override
+    public int countTeachers() {
+        return teacherRepository.countTeachers();
+    }
+}
Index: target/MySSM/WEB-INF/js/teacher.js
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/target/MySSM/WEB-INF/js/teacher.js b/target/MySSM/WEB-INF/js/teacher.js
new file mode 100644
--- /dev/null	(date 1736832952828)
+++ b/target/MySSM/WEB-INF/js/teacher.js	(date 1736832952828)
@@ -0,0 +1,96 @@
+$(document).ready(function() {
+    // 从HTML元素中读取数据
+    var paginationElement = $(".pagination");
+    var currentPage = parseInt(paginationElement.data("current-page"), 10) || 1;
+    var totalPages = parseInt(paginationElement.data("total-pages"), 10) || 1;
+    var pageSize = parseInt(paginationElement.data("page-size"), 10) || 10;
+
+    function loadTeachers(page, pageSize, searchName, searchId) {
+        console.log("Loading teachers for page: " + page);
+        $.ajax({
+            url: contextPath + "/teacher/findall",
+            type: "GET",
+            data: {
+                page: page,
+                pageSize: pageSize,
+                name: searchName,
+                id: searchId
+            },
+            success: function(response) {
+                var teachers = response.teachers;
+                var tbody = $("#teacherTable tbody");
+                tbody.empty();
+                if (teachers && teachers.length > 0) {
+                    teachers.forEach(function(teacher) {
+                        var row = "<tr>" +
+                            "<td>" + teacher.teacherId + "</td>" +
+                            "<td>" + teacher.name + "</td>" +
+                            "<td>" + teacher.gender + "</td>" +
+                            "<td>" + teacher.title + "</td>" +
+                            "<td>" + teacher.contactNumber + "</td>" +
+                            "<td>" + teacher.fieldofStudy + "</td>" +
+                            "<td>" + teacher.departmentid + "</td>" +
+                            "<td class=\"action-links\">" +
+                                "<a href=\"" + contextPath + "/teacher/edit/" + teacher.teacherId + "\" class=\"btn-edit\">编辑</a>" +
+
+                                "<a href=\"#\" onclick=\"confirmDelete('" + teacher.teacherId + "')\" class=\"btn-delete\">删除</a>" +
+
+                                "<a href=\"" + contextPath + "/teacher/detail/" + teacher.teacherId + "\" class=\"btn-detail\">详情</a>" +
+                            "</td>" +
+                            "</tr>";
+                        tbody.append(row);
+                    });
+                } else {
+                    tbody.append("<tr><td colspan='8'>没有找到教师数据</td></tr>");
+                }
+
+                // 更新分页信息
+                $("#currentPage").text(response.currentPage || 1);
+                $("#totalPages").text(response.totalPages || 1);
+            },
+            error: function(xhr, status, error) {
+                console.error("加载教师数据失败:", xhr.responseText); // 更详细的错误信息
+                alert("加载教师数据失败: " + error);
+            }
+        });
+    }
+
+    // 初始化加载
+    loadTeachers(currentPage, pageSize, "", "");
+
+    // 上一页按钮点击事件
+    $(".pagination a:contains('上一页')").click(function(event) {
+        event.preventDefault();
+        if (currentPage > 1) {
+            currentPage--;
+            var searchName = $("#searchName").val();
+            var searchId = $("#searchId").val();
+            loadTeachers(currentPage, pageSize, searchName, searchId);
+        }
+    });
+
+    // 下一页按钮点击事件
+    $(".pagination a:contains('下一页')").click(function(event) {
+        event.preventDefault();
+        if (currentPage < totalPages) {
+            currentPage++;
+            var searchName = $("#searchName").val();
+            var searchId = $("#searchId").val();
+            loadTeachers(currentPage, pageSize, searchName, searchId);
+        }
+    });
+
+    // 搜索按钮点击事件
+    $("#searchButton").click(function() {
+        currentPage = 1; // 重置当前页为第一页
+        var searchName = $("#searchName").val();
+        var searchId = $("#searchId").val();
+        loadTeachers(currentPage, pageSize, searchName, searchId);
+    });
+});
+
+function confirmDelete(teacherId) {
+    if (confirm("您确定要删除工号为 " + teacherId + " 的教师吗？")) {
+        window.location.href = contextPath + "/teacher/delete/" + teacherId;
+    }
+}
Index: src/main/java/com/cnlbc/service/StudentServiceImpl.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/java/com/cnlbc/service/StudentServiceImpl.java b/src/main/java/com/cnlbc/service/StudentServiceImpl.java
new file mode 100644
--- /dev/null	(date 1736832908136)
+++ b/src/main/java/com/cnlbc/service/StudentServiceImpl.java	(date 1736832908136)
@@ -0,0 +1,9 @@
+package com.cnlbc.service;
+
+import org.springframework.stereotype.Service;
+
+@Service
+public class StudentServiceImpl implements StudentService {
+    // 实现代码
+}
+   
\ No newline at end of file
Index: src/main/java/com/cnlbc/service/TeacherService.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/java/com/cnlbc/service/TeacherService.java b/src/main/java/com/cnlbc/service/TeacherService.java
new file mode 100644
--- /dev/null	(date 1736832908136)
+++ b/src/main/java/com/cnlbc/service/TeacherService.java	(date 1736832908136)
@@ -0,0 +1,19 @@
+package com.cnlbc.service;
+
+import com.cnlbc.pojo.Teacher;
+
+import java.util.List;
+
+public interface TeacherService {
+    public List<Teacher> findAllTeacher();
+
+    public Teacher findTeacherById(String teacherId);
+
+    public void addTeacher(Teacher teacher);
+
+    public void updateTeacher(Teacher teacher);
+
+    public void deleteTeacher(String teacherId);
+
+    public int countTeachers();
+}
Index: src/main/java/com/cnlbc/service/UserService.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.cnlbc.service;\n\nimport com.cnlbc.pojo.User;\n\nimport java.util.List;\n\npublic interface UserService {\n    public List<User> findAllUser();\n    public List<User> findUserByName(String username);\n}\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/java/com/cnlbc/service/UserService.java b/src/main/java/com/cnlbc/service/UserService.java
--- a/src/main/java/com/cnlbc/service/UserService.java	(revision 4a49462e1981e81c199d08907454e641d53cfb41)
+++ b/src/main/java/com/cnlbc/service/UserService.java	(date 1736832908136)
@@ -7,4 +7,8 @@
 public interface UserService {
     public List<User> findAllUser();
     public List<User> findUserByName(String username);
+    public void updateUserName(String oldname,String newvalue);
+    public void updatePassword(String username,String password);
+    public List<User>  findByPasswd (String username,String password);
+    public void insertUser(String username,String password);
 }
Index: .idea/uiDesigner.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/uiDesigner.xml b/.idea/uiDesigner.xml
new file mode 100644
--- /dev/null	(date 1736832908135)
+++ b/.idea/uiDesigner.xml	(date 1736832908135)
@@ -0,0 +1,124 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<project version="4">
+  <component name="Palette2">
+    <group name="Swing">
+      <item class="com.intellij.uiDesigner.HSpacer" tooltip-text="Horizontal Spacer" icon="/com/intellij/uiDesigner/icons/hspacer.svg" removable="false" auto-create-binding="false" can-attach-label="false">
+        <default-constraints vsize-policy="1" hsize-policy="6" anchor="0" fill="1" />
+      </item>
+      <item class="com.intellij.uiDesigner.VSpacer" tooltip-text="Vertical Spacer" icon="/com/intellij/uiDesigner/icons/vspacer.svg" removable="false" auto-create-binding="false" can-attach-label="false">
+        <default-constraints vsize-policy="6" hsize-policy="1" anchor="0" fill="2" />
+      </item>
+      <item class="javax.swing.JPanel" icon="/com/intellij/uiDesigner/icons/panel.svg" removable="false" auto-create-binding="false" can-attach-label="false">
+        <default-constraints vsize-policy="3" hsize-policy="3" anchor="0" fill="3" />
+      </item>
+      <item class="javax.swing.JScrollPane" icon="/com/intellij/uiDesigner/icons/scrollPane.svg" removable="false" auto-create-binding="false" can-attach-label="true">
+        <default-constraints vsize-policy="7" hsize-policy="7" anchor="0" fill="3" />
+      </item>
+      <item class="javax.swing.JButton" icon="/com/intellij/uiDesigner/icons/button.svg" removable="false" auto-create-binding="true" can-attach-label="false">
+        <default-constraints vsize-policy="0" hsize-policy="3" anchor="0" fill="1" />
+        <initial-values>
+          <property name="text" value="Button" />
+        </initial-values>
+      </item>
+      <item class="javax.swing.JRadioButton" icon="/com/intellij/uiDesigner/icons/radioButton.svg" removable="false" auto-create-binding="true" can-attach-label="false">
+        <default-constraints vsize-policy="0" hsize-policy="3" anchor="8" fill="0" />
+        <initial-values>
+          <property name="text" value="RadioButton" />
+        </initial-values>
+      </item>
+      <item class="javax.swing.JCheckBox" icon="/com/intellij/uiDesigner/icons/checkBox.svg" removable="false" auto-create-binding="true" can-attach-label="false">
+        <default-constraints vsize-policy="0" hsize-policy="3" anchor="8" fill="0" />
+        <initial-values>
+          <property name="text" value="CheckBox" />
+        </initial-values>
+      </item>
+      <item class="javax.swing.JLabel" icon="/com/intellij/uiDesigner/icons/label.svg" removable="false" auto-create-binding="false" can-attach-label="false">
+        <default-constraints vsize-policy="0" hsize-policy="0" anchor="8" fill="0" />
+        <initial-values>
+          <property name="text" value="Label" />
+        </initial-values>
+      </item>
+      <item class="javax.swing.JTextField" icon="/com/intellij/uiDesigner/icons/textField.svg" removable="false" auto-create-binding="true" can-attach-label="true">
+        <default-constraints vsize-policy="0" hsize-policy="6" anchor="8" fill="1">
+          <preferred-size width="150" height="-1" />
+        </default-constraints>
+      </item>
+      <item class="javax.swing.JPasswordField" icon="/com/intellij/uiDesigner/icons/passwordField.svg" removable="false" auto-create-binding="true" can-attach-label="true">
+        <default-constraints vsize-policy="0" hsize-policy="6" anchor="8" fill="1">
+          <preferred-size width="150" height="-1" />
+        </default-constraints>
+      </item>
+      <item class="javax.swing.JFormattedTextField" icon="/com/intellij/uiDesigner/icons/formattedTextField.svg" removable="false" auto-create-binding="true" can-attach-label="true">
+        <default-constraints vsize-policy="0" hsize-policy="6" anchor="8" fill="1">
+          <preferred-size width="150" height="-1" />
+        </default-constraints>
+      </item>
+      <item class="javax.swing.JTextArea" icon="/com/intellij/uiDesigner/icons/textArea.svg" removable="false" auto-create-binding="true" can-attach-label="true">
+        <default-constraints vsize-policy="6" hsize-policy="6" anchor="0" fill="3">
+          <preferred-size width="150" height="50" />
+        </default-constraints>
+      </item>
+      <item class="javax.swing.JTextPane" icon="/com/intellij/uiDesigner/icons/textPane.svg" removable="false" auto-create-binding="true" can-attach-label="true">
+        <default-constraints vsize-policy="6" hsize-policy="6" anchor="0" fill="3">
+          <preferred-size width="150" height="50" />
+        </default-constraints>
+      </item>
+      <item class="javax.swing.JEditorPane" icon="/com/intellij/uiDesigner/icons/editorPane.svg" removable="false" auto-create-binding="true" can-attach-label="true">
+        <default-constraints vsize-policy="6" hsize-policy="6" anchor="0" fill="3">
+          <preferred-size width="150" height="50" />
+        </default-constraints>
+      </item>
+      <item class="javax.swing.JComboBox" icon="/com/intellij/uiDesigner/icons/comboBox.svg" removable="false" auto-create-binding="true" can-attach-label="true">
+        <default-constraints vsize-policy="0" hsize-policy="2" anchor="8" fill="1" />
+      </item>
+      <item class="javax.swing.JTable" icon="/com/intellij/uiDesigner/icons/table.svg" removable="false" auto-create-binding="true" can-attach-label="false">
+        <default-constraints vsize-policy="6" hsize-policy="6" anchor="0" fill="3">
+          <preferred-size width="150" height="50" />
+        </default-constraints>
+      </item>
+      <item class="javax.swing.JList" icon="/com/intellij/uiDesigner/icons/list.svg" removable="false" auto-create-binding="true" can-attach-label="false">
+        <default-constraints vsize-policy="6" hsize-policy="2" anchor="0" fill="3">
+          <preferred-size width="150" height="50" />
+        </default-constraints>
+      </item>
+      <item class="javax.swing.JTree" icon="/com/intellij/uiDesigner/icons/tree.svg" removable="false" auto-create-binding="true" can-attach-label="false">
+        <default-constraints vsize-policy="6" hsize-policy="6" anchor="0" fill="3">
+          <preferred-size width="150" height="50" />
+        </default-constraints>
+      </item>
+      <item class="javax.swing.JTabbedPane" icon="/com/intellij/uiDesigner/icons/tabbedPane.svg" removable="false" auto-create-binding="true" can-attach-label="false">
+        <default-constraints vsize-policy="3" hsize-policy="3" anchor="0" fill="3">
+          <preferred-size width="200" height="200" />
+        </default-constraints>
+      </item>
+      <item class="javax.swing.JSplitPane" icon="/com/intellij/uiDesigner/icons/splitPane.svg" removable="false" auto-create-binding="false" can-attach-label="false">
+        <default-constraints vsize-policy="3" hsize-policy="3" anchor="0" fill="3">
+          <preferred-size width="200" height="200" />
+        </default-constraints>
+      </item>
+      <item class="javax.swing.JSpinner" icon="/com/intellij/uiDesigner/icons/spinner.svg" removable="false" auto-create-binding="true" can-attach-label="true">
+        <default-constraints vsize-policy="0" hsize-policy="6" anchor="8" fill="1" />
+      </item>
+      <item class="javax.swing.JSlider" icon="/com/intellij/uiDesigner/icons/slider.svg" removable="false" auto-create-binding="true" can-attach-label="false">
+        <default-constraints vsize-policy="0" hsize-policy="6" anchor="8" fill="1" />
+      </item>
+      <item class="javax.swing.JSeparator" icon="/com/intellij/uiDesigner/icons/separator.svg" removable="false" auto-create-binding="false" can-attach-label="false">
+        <default-constraints vsize-policy="6" hsize-policy="6" anchor="0" fill="3" />
+      </item>
+      <item class="javax.swing.JProgressBar" icon="/com/intellij/uiDesigner/icons/progressbar.svg" removable="false" auto-create-binding="true" can-attach-label="false">
+        <default-constraints vsize-policy="0" hsize-policy="6" anchor="0" fill="1" />
+      </item>
+      <item class="javax.swing.JToolBar" icon="/com/intellij/uiDesigner/icons/toolbar.svg" removable="false" auto-create-binding="false" can-attach-label="false">
+        <default-constraints vsize-policy="0" hsize-policy="6" anchor="0" fill="1">
+          <preferred-size width="-1" height="20" />
+        </default-constraints>
+      </item>
+      <item class="javax.swing.JToolBar$Separator" icon="/com/intellij/uiDesigner/icons/toolbarSeparator.svg" removable="false" auto-create-binding="false" can-attach-label="false">
+        <default-constraints vsize-policy="0" hsize-policy="0" anchor="0" fill="1" />
+      </item>
+      <item class="javax.swing.JScrollBar" icon="/com/intellij/uiDesigner/icons/scrollbar.svg" removable="false" auto-create-binding="true" can-attach-label="false">
+        <default-constraints vsize-policy="6" hsize-policy="0" anchor="0" fill="2" />
+      </item>
+    </group>
+  </component>
+</project>
\ No newline at end of file
Index: src/main/java/com/cnlbc/service/UserServiceImpl.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.cnlbc.service;\n\nimport com.cnlbc.pojo.User;\nimport com.cnlbc.repository.UserRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\nimport java.util.List;\n\n@Service\npublic class UserServiceImpl implements UserService {\n\n    @Autowired\n    private UserRepository userRepository;\n\n    @Override\n    public List<User> findAllUser() {\n        return userRepository.findAllUser();\n    }\n\n    @Override\n    public List<User> findUserByName(String username) {\n        return userRepository.findUserByName(username);\n    }\n}\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/java/com/cnlbc/service/UserServiceImpl.java b/src/main/java/com/cnlbc/service/UserServiceImpl.java
--- a/src/main/java/com/cnlbc/service/UserServiceImpl.java	(revision 4a49462e1981e81c199d08907454e641d53cfb41)
+++ b/src/main/java/com/cnlbc/service/UserServiceImpl.java	(date 1736832908136)
@@ -22,4 +22,22 @@
     public List<User> findUserByName(String username) {
         return userRepository.findUserByName(username);
     }
+
+    @Override
+    public  void updateUserName(String oldname, String newvalue) {
+        userRepository.updateUserName(oldname, newvalue);
+    }
+    @Override
+    public void updatePassword(String username,String password){
+        userRepository.updatePassword(username,password);
+    }
+    @Override
+    public List<User>  findByPasswd (String username,String password){
+        return userRepository.findByPasswd(username,password);
+    }
+    @Override
+    public void insertUser(String username,String password){
+        userRepository.insertUser(username,password);
+    }
+
 }
Index: src/main/java/com/cnlbc/repository/UserRepository.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.cnlbc.repository;\n\nimport com.cnlbc.pojo.User;\n\nimport java.util.List;\n\npublic interface UserRepository {\n    public List<User> findAllUser();\n    public List<User> findUserByName(String username);\n}\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/java/com/cnlbc/repository/UserRepository.java b/src/main/java/com/cnlbc/repository/UserRepository.java
--- a/src/main/java/com/cnlbc/repository/UserRepository.java	(revision 4a49462e1981e81c199d08907454e641d53cfb41)
+++ b/src/main/java/com/cnlbc/repository/UserRepository.java	(date 1736832908136)
@@ -7,4 +7,8 @@
 public interface UserRepository {
     public List<User> findAllUser();
     public List<User> findUserByName(String username);
+    public void updateUserName(String oldname,String newvalue);
+    public void updatePassword(String username,String password);
+    public List<User>  findByPasswd (String username,String password);
+    public void insertUser(String username,String password);
 }
Index: src/main/java/com/cnlbc/repository/UserRepository.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n<!DOCTYPE mapper PUBLIC \"-//mybatis.org//DTD Mapper 3.0//EN\" \"http://mybatis.org/dtd/mybatis-3-mapper.dtd\">\n\n\n<mapper namespace=\"com.cnlbc.repository.UserRepository\">\n\n    <select id=\"findAllUser\" resultType=\"User\">\n        select * from users\n    </select>\n\n    <select id=\"findUserByName\" resultType=\"User\">\n        select * from users where username = #{username}\n    </select>\n\n</mapper>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/java/com/cnlbc/repository/UserRepository.xml b/src/main/java/com/cnlbc/repository/UserRepository.xml
--- a/src/main/java/com/cnlbc/repository/UserRepository.xml	(revision 4a49462e1981e81c199d08907454e641d53cfb41)
+++ b/src/main/java/com/cnlbc/repository/UserRepository.xml	(date 1736832908136)
@@ -1,15 +1,31 @@
 <?xml version="1.0" encoding="UTF-8" ?>
 <!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
-
-
 <mapper namespace="com.cnlbc.repository.UserRepository">
-
     <select id="findAllUser" resultType="User">
         select * from users
     </select>
-
     <select id="findUserByName" resultType="User">
         select * from users where username = #{username}
     </select>
+    <update id="updateUserName">
+        update users
+        set username = #{newvalue}
+        where username = #{oldname}
+    </update>
+    <update id="updatePassword">
+        UPDATE users
+        SET password = #{password}
+        WHERE username = #{username}
+    </update>
+    <select id="findByPasswd" resultType="User">
+        SELECT *
+        FROM users
+        WHERE username = #{username}
+          AND password = #{password}
+    </select>
+    <insert id="insertUser">
+        INSERT INTO users (username, password)
+        VALUES (#{username}, #{password})
+    </insert>
 
 </mapper>
\ No newline at end of file
Index: src/main/webapp/WEB-INF/js/login.js
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>// login.js\n// 跳转到注册页面\nfunction login() {\n    const username = document.getElementById('username').value;\n    const password = document.getElementById('password').value;\n    // 确保用户名和密码不为空\n    if (username === '' || password === '') {\n        alert('请输入用户名和密码');\n        return;\n    }\n    // 构造要发送的JSON对象\n    const userData = {\n        username: username,\n        password: password\n    };\n    console.log(\"发送数据\", userData);\n    // 使用fetch发送POST请求\n    fetch(contextPath + '/user/login', {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(userData)\n    })\n        .then(response => {\n            if (!response.ok) {\n                throw new Error('请求失败');\n            }\n            return response.json();\n        })\n        .then(data => {\n            console.log(\"接收数据\", data);\n            // 处理登录成功的响应\n            // 如果登录成功，直接跳转到成功页面\n            if (data.success) {\n                location.href = contextPath + \"/home/allfunspage\";\n            } else {\n                alert(\"登录失败，请检查用户名和密码\");\n            }\n        })\n        .catch(error => {\n            // 处理请求错误\n            console.error('错误:', error);\n            alert('请求发生错误，请重试');\n        });\n}\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/webapp/WEB-INF/js/login.js b/src/main/webapp/WEB-INF/js/login.js
--- a/src/main/webapp/WEB-INF/js/login.js	(revision 4a49462e1981e81c199d08907454e641d53cfb41)
+++ b/src/main/webapp/WEB-INF/js/login.js	(date 1736832930618)
@@ -33,7 +33,8 @@
             // 处理登录成功的响应
             // 如果登录成功，直接跳转到成功页面
             if (data.success) {
-                location.href = contextPath + "/home/allfunspage";
+                location.href = contextPath + "/user/allfunspage";
+                console.log("登录成功")
             } else {
                 alert("登录失败，请检查用户名和密码");
             }
Index: src/main/webapp/WEB-INF/js/allfuns.js
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>\nfunction navigate(module) {\n    var content = document.getElementById('main-content');\n    switch (module) {\n        case 'home':\n            content.innerHTML = '<h1>首页</h1><p>这里是系统的首页。</p>';\n            break;\n        case 'teacher':\n            content.innerHTML = '<h1>教师管理</h1><p>这里是教师管理模块。</p>';\n            break;\n        case 'student':\n            content.innerHTML = '<h1>学生管理</h1><p>这里是学生管理模块。</p>';\n            break;\n        case 'class':\n            content.innerHTML = '<h1>班级管理</h1><p>这里是班级管理模块。</p>';\n            break;\n        case 'course':\n            content.innerHTML = '<h1>课程管理</h1><p>这里是课程管理模块。</p>';\n            break;\n        case 'college':\n            content.innerHTML = '<h1>学院管理</h1><p>这里是学院管理模块。</p>';\n            break;\n        //我的\n        case 'profile':\n            console.log(contextPath)\n            location.href = contextPath + \"/user/mepage\";\n            break;\n        //设置\n        case 'settings':\n            location.href = \"\";\n            break;\n        //退出\n        case 'logout':\n            // 在这里执行退出登录逻辑，例如重定向到登录页面\n            location.href = contextPath + \"/user/loginpage\";\n            // 实际应用中可能是：\n            // window.location.href = 'login.html';\n            break;\n        default:\n            content.innerHTML = '<h1>页面未找到</h1><p>抱歉，您请求的页面不存在。</p>';\n    }\n}\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/webapp/WEB-INF/js/allfuns.js b/src/main/webapp/WEB-INF/js/allfuns.js
--- a/src/main/webapp/WEB-INF/js/allfuns.js	(revision 4a49462e1981e81c199d08907454e641d53cfb41)
+++ b/src/main/webapp/WEB-INF/js/allfuns.js	(date 1736832926433)
@@ -6,7 +6,38 @@
             content.innerHTML = '<h1>首页</h1><p>这里是系统的首页。</p>';
             break;
         case 'teacher':
-            content.innerHTML = '<h1>教师管理</h1><p>这里是教师管理模块。</p>';
+            fetch(contextPath + "/home/teachermanage")
+                .then(response => response.text())
+                .then(data => {
+                    content.innerHTML = data;
+
+                    // 重新加载所有 <script> 标签
+                    const scriptTags = content.getElementsByTagName('script');
+                    Array.from(scriptTags).forEach(script => {
+                        if (script.src) {
+                            // 如果有 src 属性，创建新的 <script> 标签并插入到 body 中
+                            const newScript = document.createElement('script');
+                            newScript.src = script.src;
+                            newScript.async = false; // 确保按顺序加载
+                            document.body.appendChild(newScript);
+                        } else {
+                            // 如果是内联脚本，直接执行
+                            eval(script.innerHTML);
+                        }
+                    });
+
+                    // 确保 jQuery 已加载后再执行 teacher.js
+                    if (typeof $ === 'undefined') {
+                        console.error("jQuery is not loaded correctly.");
+                    } else {
+                        $(document).ready(function() {
+                            console.log("Document ready, initializing...");
+                            // 初始化 teacher.js 中的功能
+                            loadTeachers(1, 10); // 或者根据实际情况初始化
+                        });
+                    }
+                })
+                .catch(error => console.error('Error loading teacher.jsp:', error));
             break;
         case 'student':
             content.innerHTML = '<h1>学生管理</h1><p>这里是学生管理模块。</p>';
@@ -40,3 +71,101 @@
             content.innerHTML = '<h1>页面未找到</h1><p>抱歉，您请求的页面不存在。</p>';
     }
 }
+var popupButton = document.getElementById('popup-button');
+var popupLayer = document.getElementById('popup-layer');
+var overlay = document.getElementById('overlay');
+var closeButton = document.getElementById('close-button');
+// 添加点击事件，用于显示弹出层和遮罩层
+function showPopupLayer() {
+    var popupLayer = document.getElementById('popup-layer');
+    var overlay = document.getElementById('overlay');
+    popupLayer.style.display = 'block';
+    overlay.style.display = 'block';
+    document.body.classList.add('modal-open'); // 添加类以改变背景颜色
+}
+// 添加点击事件，用于隐藏弹出层和遮罩层
+closeButton.addEventListener('click', function () {
+    popupLayer.style.display = 'none';
+    overlay.style.display = 'none';
+    document.body.classList.remove('modal-open'); // 移除类以恢复背景颜色
+});
+// 也可以添加点击遮罩层关闭弹出层的逻辑
+overlay.addEventListener('click', function () {
+    popupLayer.style.display = 'none';
+    overlay.style.display = 'none';
+    document.body.classList.remove('modal-open');
+});
+//    输入框
+document.getElementById('editNickname').addEventListener('click', function () {
+    var displayDiv = document.getElementById('nicknameDisplay');
+    var inputDiv = document.getElementById('nicknameInputContainer');
+    var input = document.getElementById('nicknameInput');
+    var editImg = document.getElementById('editNickname');
+    var confirmBtn = document.getElementById('confirmBtn');
+
+    displayDiv.style.display = 'none';
+    inputDiv.style.display = 'block';
+    editImg.style.display = 'none';
+    confirmBtn.style.display = 'block';
+
+    input.value = displayDiv.innerText;
+    input.focus();
+    //input.style.borderColor = '#fb326c';
+
+    confirmBtn.addEventListener('click', function () {
+        displayDiv.innerText = input.value; // 更新显示的昵称
+        // 发送GET请求到/user/updateusername
+        var xhr = new XMLHttpRequest();
+        xhr.open('GET', contextPath+'/user/updateusername?newValue=' + encodeURIComponent(input.value), true);
+        xhr.onreadystatechange = function () {
+            if (xhr.readyState === 4) { // 检查请求是否完成
+                try {
+                    var response = JSON.parse(xhr.responseText); // 尝试解析响应文本为JSON
+                    if (response === true) {
+                        // 响应是布尔值true，表示更新成功
+                        console.log('Nickname updated successfully');
+                        alert("修改昵称成功");
+                    } else {
+                        // 响应是布尔值false，表示更新失败
+                        alert("修改昵称失败请重试");
+                    }
+                } catch (e) {
+                    // 响应不是有效的JSON，可能是服务器返回了错误信息
+                    alert("服务器错误：" + xhr.responseText);
+                }
+            }
+        };
+        xhr.onerror = function () {
+            // 请求过程中发生错误
+            alert("请求出错，请检查网络连接或联系管理员");
+        };
+        xhr.send();
+    });
+    // 移除原有blur事件监听器，因为我们希望在点击确认按钮后才隐藏输入框
+    input.removeEventListener('blur', arguments.callee);
+});
+//    更改密码
+function checkAndUpdatePassword() {
+    var originalPassword = document.getElementById('originalPassword').value;
+    var newPassword = document.getElementById('newPassword').value;
+    var confirmPassword = document.getElementById('confirmPassword').value;
+
+    if (newPassword !== confirmPassword) {
+        alert('两次输入的密码不同，请重新输入。');
+        return;
+    }
+
+    var xhr = new XMLHttpRequest();
+    xhr.open('GET', contextPath+'/user/updatepasswd?originalPassword=' + encodeURIComponent(originalPassword) + '&newPassword=' + encodeURIComponent(newPassword), true);
+    xhr.onreadystatechange = function () {
+        if (xhr.readyState === 4) {
+            var response = JSON.parse(xhr.responseText); // 解析响应文本为JSON对象
+            if (xhr.status === 200 && response) {
+                alert('密码更新成功！');
+            } else {
+                alert('密码更新失败：' + (xhr.statusText || 'Unknown error'));
+            }
+        }
+    };
+    xhr.send();
+}
\ No newline at end of file
Index: target/MySSM/WEB-INF/classes/com/cnlbc/repository/UserRepository.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n<!DOCTYPE mapper PUBLIC \"-//mybatis.org//DTD Mapper 3.0//EN\" \"http://mybatis.org/dtd/mybatis-3-mapper.dtd\">\n\n\n<mapper namespace=\"com.cnlbc.repository.UserRepository\">\n\n    <select id=\"findAllUser\" resultType=\"User\">\n        select * from users\n    </select>\n\n    <select id=\"findUserByName\" resultType=\"User\">\n        select * from users where username = #{username}\n    </select>\n\n</mapper>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/target/MySSM/WEB-INF/classes/com/cnlbc/repository/UserRepository.xml b/target/MySSM/WEB-INF/classes/com/cnlbc/repository/UserRepository.xml
--- a/target/MySSM/WEB-INF/classes/com/cnlbc/repository/UserRepository.xml	(revision 4a49462e1981e81c199d08907454e641d53cfb41)
+++ b/target/MySSM/WEB-INF/classes/com/cnlbc/repository/UserRepository.xml	(date 1736832952827)
@@ -1,15 +1,31 @@
 <?xml version="1.0" encoding="UTF-8" ?>
 <!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
-
-
 <mapper namespace="com.cnlbc.repository.UserRepository">
-
     <select id="findAllUser" resultType="User">
         select * from users
     </select>
-
     <select id="findUserByName" resultType="User">
         select * from users where username = #{username}
     </select>
+    <update id="updateUserName">
+        update users
+        set username = #{newvalue}
+        where username = #{oldname}
+    </update>
+    <update id="updatePassword">
+        UPDATE users
+        SET password = #{password}
+        WHERE username = #{username}
+    </update>
+    <select id="findByPasswd" resultType="User">
+        SELECT *
+        FROM users
+        WHERE username = #{username}
+          AND password = #{password}
+    </select>
+    <insert id="insertUser">
+        INSERT INTO users (username, password)
+        VALUES (#{username}, #{password})
+    </insert>
 
 </mapper>
\ No newline at end of file
Index: src/main/resources/spring-mvc.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xmlns:context=\"http://www.springframework.org/schema/context\"\n       xmlns:mvc=\"http://www.springframework.org/schema/mvc\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\n        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.0.xsd\n        http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-3.2.xsd\">\n    <!--启动注解驱动-->\n    <mvc:annotation-driven></mvc:annotation-driven>\n    <!--扫描业务代码-->\n    <context:component-scan base-package=\"com.cnlbc\"></context:component-scan>\n    <!--静态资源过滤器-->\n    <mvc:default-servlet-handler></mvc:default-servlet-handler>\n    <mvc:resources mapping=\"/js/**\" location=\"WEB-INF/js/\"></mvc:resources>\n    <mvc:resources mapping=\"/css/**\" location=\"WEB-INF/css/\"></mvc:resources>\n    <mvc:resources mapping=\"/images/**\" location=\"WEB-INF/images\"></mvc:resources>\n    <!--转换器-->\n    <mvc:annotation-driven>\n        <mvc:message-converters>\n            <bean class=\"org.springframework.http.converter.StringHttpMessageConverter\"/>\n            <bean class=\"org.springframework.http.converter.json.MappingJackson2HttpMessageConverter\"/>\n        </mvc:message-converters>\n    </mvc:annotation-driven>\n    <!--配置视图解析器-->\n    <bean class=\"org.springframework.web.servlet.view.InternalResourceViewResolver\">\n        <!--前缀-->\n        <property name=\"prefix\" value=\"/WEB-INF/jsp/\"></property>\n        <!--后缀-->\n        <property name=\"suffix\" value=\".jsp\"></property>\n    </bean>\n</beans>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/resources/spring-mvc.xml b/src/main/resources/spring-mvc.xml
--- a/src/main/resources/spring-mvc.xml	(revision 4a49462e1981e81c199d08907454e641d53cfb41)
+++ b/src/main/resources/spring-mvc.xml	(date 1736832908136)
@@ -12,9 +12,9 @@
     <context:component-scan base-package="com.cnlbc"></context:component-scan>
     <!--静态资源过滤器-->
     <mvc:default-servlet-handler></mvc:default-servlet-handler>
-    <mvc:resources mapping="/js/**" location="WEB-INF/js/"></mvc:resources>
-    <mvc:resources mapping="/css/**" location="WEB-INF/css/"></mvc:resources>
-    <mvc:resources mapping="/images/**" location="WEB-INF/images"></mvc:resources>
+    <mvc:resources mapping="/js/**" location="/WEB-INF/js/"></mvc:resources>
+    <mvc:resources mapping="/css/**" location="/WEB-INF/css/"></mvc:resources>
+    <mvc:resources mapping="/images/**" location="/WEB-INF/images/"></mvc:resources>
     <!--转换器-->
     <mvc:annotation-driven>
         <mvc:message-converters>
Index: src/main/webapp/WEB-INF/js/register.js
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>// register.js\n$(document).ready(function() {\n    $('#registrationForm').submit(function(event) {\n        event.preventDefault(); // 阻止表单默认提交行为\n\n        const username = $('#username').val();\n        const password = $('#password').val();\n\n        // 准备要发送的数据\n        const data = {\n            \"username\": username,\n            \"password\": password\n        };\n\n        // 发起AJAX POST请求\n        $.ajax({\n            url: contextPath + \"/user/register\",\n            type: 'POST',\n            contentType: 'application/json', // 设置请求头内容类型为JSON\n            data: JSON.stringify(data), // 将JavaScript对象转换为JSON字符串\n            success: function(response) {\n                // 请求成功时的处理\n                if (response.success) {\n                    let countdown = 3;\n                    const intervalId = setInterval(function() {\n                        $('#responseMessage').text(`用户注册成功。将在${countdown}秒后跳转到登录页面`).css('color', 'green');\n                        countdown--;\n                        if (countdown < 0) {\n                            clearInterval(intervalId);\n                            location.href = contextPath + \"/user/loginpage\";\n                        }\n                    }, 1000);\n                } else {\n                    $('#responseMessage').text(response.message).css('color', 'red');\n                }\n            },\n            error: function(xhr, status, error) {\n                // 请求失败时的处理\n                $('#responseMessage').text('注册失败: ' + xhr.responseText).css('color', 'red');\n            }\n        });\n    });\n});\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/webapp/WEB-INF/js/register.js b/src/main/webapp/WEB-INF/js/register.js
--- a/src/main/webapp/WEB-INF/js/register.js	(revision 4a49462e1981e81c199d08907454e641d53cfb41)
+++ b/src/main/webapp/WEB-INF/js/register.js	(date 1736832908137)
@@ -2,16 +2,13 @@
 $(document).ready(function() {
     $('#registrationForm').submit(function(event) {
         event.preventDefault(); // 阻止表单默认提交行为
-
         const username = $('#username').val();
         const password = $('#password').val();
-
         // 准备要发送的数据
         const data = {
             "username": username,
             "password": password
         };
-
         // 发起AJAX POST请求
         $.ajax({
             url: contextPath + "/user/register",
Index: .idea/libraries/DmDialect_for_hibernate6_1__3_.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/libraries/DmDialect_for_hibernate6_1__3_.xml b/.idea/libraries/DmDialect_for_hibernate6_1__3_.xml
new file mode 100644
--- /dev/null	(date 1736832908135)
+++ b/.idea/libraries/DmDialect_for_hibernate6_1__3_.xml	(date 1736832908135)
@@ -0,0 +1,9 @@
+<component name="libraryTable">
+  <library name="DmDialect-for-hibernate6.1 (3)">
+    <CLASSES>
+      <root url="jar://$PROJECT_DIR$/src/main/webapp/WEB-INF/lib/DmDialect-for-hibernate6.1.jar!/" />
+    </CLASSES>
+    <JAVADOC />
+    <SOURCES />
+  </library>
+</component>
\ No newline at end of file
Index: .idea/libraries/DmDialect_for_hibernate6_1__2_.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/libraries/DmDialect_for_hibernate6_1__2_.xml b/.idea/libraries/DmDialect_for_hibernate6_1__2_.xml
new file mode 100644
--- /dev/null	(date 1736832908135)
+++ b/.idea/libraries/DmDialect_for_hibernate6_1__2_.xml	(date 1736832908135)
@@ -0,0 +1,9 @@
+<component name="libraryTable">
+  <library name="DmDialect-for-hibernate6.1 (2)">
+    <CLASSES>
+      <root url="jar://$PROJECT_DIR$/src/main/webapp/WEB-INF/lib/DmDialect-for-hibernate6.1.jar!/" />
+    </CLASSES>
+    <JAVADOC />
+    <SOURCES />
+  </library>
+</component>
\ No newline at end of file
Index: .idea/libraries/DmDialect_for_hibernate6_1.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/libraries/DmDialect_for_hibernate6_1.xml b/.idea/libraries/DmDialect_for_hibernate6_1.xml
new file mode 100644
--- /dev/null	(date 1736832908135)
+++ b/.idea/libraries/DmDialect_for_hibernate6_1.xml	(date 1736832908135)
@@ -0,0 +1,9 @@
+<component name="libraryTable">
+  <library name="DmDialect-for-hibernate6.1">
+    <CLASSES>
+      <root url="jar://$PROJECT_DIR$/src/main/webapp/WEB-INF/lib/DmDialect-for-hibernate6.1.jar!/" />
+    </CLASSES>
+    <JAVADOC />
+    <SOURCES />
+  </library>
+</component>
\ No newline at end of file
Index: src/main/webapp/WEB-INF/jsp/login.jsp
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><!DOCTYPE html>\n<%@ page contentType=\"text/html; charset=UTF-8\"%>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>用户登录</title>\n    <script>\n        var contextPath = \"${pageContext.request.contextPath}\";\n    </script>\n    <script src=\"${pageContext.request.contextPath}/js/login.js\"></script>\n</head>\n<body>\n\n<div class=\"form-container\">\n    <div class=\"form-header\">\n        <h2>用户登录</h2>\n        <span>还没有账号？<a href=\"${pageContext.request.contextPath}/user/registerpage\">注册</a></span>\n    </div>\n\n    <form id=\"loginForm\">\n        <label for=\"username\">用户名:</label>\n        <input type=\"text\" id=\"username\" name=\"username\" required>\n        <br><br>\n        <label for=\"password\">密码:</label>\n        <input type=\"password\" id=\"password\" name=\"password\" required>\n        <br><br>\n        <button type=\"button\" onclick=\"login()\">登录</button>\n    </form>\n\n    <div id=\"responseMessage\"></div>\n</div>\n\n</body>\n</html>\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/webapp/WEB-INF/jsp/login.jsp b/src/main/webapp/WEB-INF/jsp/login.jsp
--- a/src/main/webapp/WEB-INF/jsp/login.jsp	(revision 4a49462e1981e81c199d08907454e641d53cfb41)
+++ b/src/main/webapp/WEB-INF/jsp/login.jsp	(date 1736832908137)
@@ -9,6 +9,7 @@
         var contextPath = "${pageContext.request.contextPath}";
     </script>
     <script src="${pageContext.request.contextPath}/js/login.js"></script>
+    <link rel="stylesheet" href="${pageContext.request.contextPath}/css/common.css">
 </head>
 <body>
 
@@ -32,4 +33,4 @@
 </div>
 
 </body>
-</html>
+</html>
\ No newline at end of file
Index: target/classes/spring-mvc.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xmlns:context=\"http://www.springframework.org/schema/context\"\n       xmlns:mvc=\"http://www.springframework.org/schema/mvc\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\n        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.0.xsd\n        http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-3.2.xsd\">\n    <!--启动注解驱动-->\n    <mvc:annotation-driven></mvc:annotation-driven>\n    <!--扫描业务代码-->\n    <context:component-scan base-package=\"com.cnlbc\"></context:component-scan>\n    <!--静态资源过滤器-->\n    <mvc:default-servlet-handler></mvc:default-servlet-handler>\n    <mvc:resources mapping=\"/js/**\" location=\"WEB-INF/js/\"></mvc:resources>\n    <mvc:resources mapping=\"/css/**\" location=\"WEB-INF/css/\"></mvc:resources>\n    <mvc:resources mapping=\"/images/**\" location=\"WEB-INF/images\"></mvc:resources>\n    <!--转换器-->\n    <mvc:annotation-driven>\n        <mvc:message-converters>\n            <bean class=\"org.springframework.http.converter.StringHttpMessageConverter\"/>\n            <bean class=\"org.springframework.http.converter.json.MappingJackson2HttpMessageConverter\"/>\n        </mvc:message-converters>\n    </mvc:annotation-driven>\n    <!--配置视图解析器-->\n    <bean class=\"org.springframework.web.servlet.view.InternalResourceViewResolver\">\n        <!--前缀-->\n        <property name=\"prefix\" value=\"/WEB-INF/jsp/\"></property>\n        <!--后缀-->\n        <property name=\"suffix\" value=\".jsp\"></property>\n    </bean>\n</beans>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/target/classes/spring-mvc.xml b/target/classes/spring-mvc.xml
--- a/target/classes/spring-mvc.xml	(revision 4a49462e1981e81c199d08907454e641d53cfb41)
+++ b/target/classes/spring-mvc.xml	(date 1736832950954)
@@ -12,9 +12,9 @@
     <context:component-scan base-package="com.cnlbc"></context:component-scan>
     <!--静态资源过滤器-->
     <mvc:default-servlet-handler></mvc:default-servlet-handler>
-    <mvc:resources mapping="/js/**" location="WEB-INF/js/"></mvc:resources>
-    <mvc:resources mapping="/css/**" location="WEB-INF/css/"></mvc:resources>
-    <mvc:resources mapping="/images/**" location="WEB-INF/images"></mvc:resources>
+    <mvc:resources mapping="/js/**" location="/WEB-INF/js/"></mvc:resources>
+    <mvc:resources mapping="/css/**" location="/WEB-INF/css/"></mvc:resources>
+    <mvc:resources mapping="/images/**" location="/WEB-INF/images/"></mvc:resources>
     <!--转换器-->
     <mvc:annotation-driven>
         <mvc:message-converters>
Index: et --hard 20b7578
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/et --hard 20b7578 b/et --hard 20b7578
new file mode 100644
--- /dev/null	(date 1736832908135)
+++ b/et --hard 20b7578	(date 1736832908135)
@@ -0,0 +1,14 @@
+[33m06d1845[m[33m ([m[1;36mHEAD[m[33m -> [m[1;32mzyd[m[33m, [m[1;31morigin/zyd[m[33m)[m HEAD@{0}: reset: moving to origin/zyd
+[33m2246af3[m HEAD@{1}: reset: moving to 2246af3
+[33m20b7578[m HEAD@{2}: reset: moving to 20b7578
+[33m06d1845[m[33m ([m[1;36mHEAD[m[33m -> [m[1;32mzyd[m[33m, [m[1;31morigin/zyd[m[33m)[m HEAD@{3}: reset: moving to origin/zyd
+[33m06d1845[m[33m ([m[1;36mHEAD[m[33m -> [m[1;32mzyd[m[33m, [m[1;31morigin/zyd[m[33m)[m HEAD@{4}: reset: moving to origin/zyd
+[33m06d1845[m[33m ([m[1;36mHEAD[m[33m -> [m[1;32mzyd[m[33m, [m[1;31morigin/zyd[m[33m)[m HEAD@{5}: reset: moving to origin/zyd
+[33m20b7578[m HEAD@{6}: reset: moving to HEAD
+[33m20b7578[m HEAD@{7}: reset: moving to HEAD
+[33m20b7578[m HEAD@{8}: reset: moving to HEAD
+[33m20b7578[m HEAD@{9}: reset: moving to HEAD
+[33m20b7578[m HEAD@{10}: commit: 2
+[33m2246af3[m HEAD@{11}: checkout: moving from master to zyd
+[33m797c8f2[m[33m ([m[1;32mmaster[m[33m)[m HEAD@{12}: commit: 本次提交的描述信息
+[33mf37f7a3[m[33m ([m[1;31morigin/master[m[33m, [m[1;31morigin/HEAD[m[33m)[m HEAD@{13}: clone: from github.com:TZJ-BYTE/StudentManageSystem.git
Index: README.md
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/README.md b/README.md
new file mode 100644
--- /dev/null	(date 1736832932492)
+++ b/README.md	(date 1736832932492)
@@ -0,0 +1,5 @@
+# MySSM
+
+效果如下图
+
+![输入图片说明](https://images.gitee.com/uploads/images/2021/0112/142158_3e95e687_8544538.png "屏幕截图.png")
\ No newline at end of file
Index: et --hard 797c8f2
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/et --hard 797c8f2 b/et --hard 797c8f2
new file mode 100644
--- /dev/null	(date 1736832908135)
+++ b/et --hard 797c8f2	(date 1736832908135)
@@ -0,0 +1,14 @@
+[33m06d1845[m[33m ([m[1;36mHEAD[m[33m -> [m[1;32mzyd[m[33m, [m[1;31morigin/zyd[m[33m)[m HEAD@{0}: reset: moving to origin/zyd
+[33m2246af3[m HEAD@{1}: reset: moving to 2246af3
+[33m20b7578[m HEAD@{2}: reset: moving to 20b7578
+[33m06d1845[m[33m ([m[1;36mHEAD[m[33m -> [m[1;32mzyd[m[33m, [m[1;31morigin/zyd[m[33m)[m HEAD@{3}: reset: moving to origin/zyd
+[33m06d1845[m[33m ([m[1;36mHEAD[m[33m -> [m[1;32mzyd[m[33m, [m[1;31morigin/zyd[m[33m)[m HEAD@{4}: reset: moving to origin/zyd
+[33m06d1845[m[33m ([m[1;36mHEAD[m[33m -> [m[1;32mzyd[m[33m, [m[1;31morigin/zyd[m[33m)[m HEAD@{5}: reset: moving to origin/zyd
+[33m20b7578[m HEAD@{6}: reset: moving to HEAD
+[33m20b7578[m HEAD@{7}: reset: moving to HEAD
+[33m20b7578[m HEAD@{8}: reset: moving to HEAD
+[33m20b7578[m HEAD@{9}: reset: moving to HEAD
+[33m20b7578[m HEAD@{10}: commit: 2
+[33m2246af3[m HEAD@{11}: checkout: moving from master to zyd
+[33m797c8f2[m[33m ([m[1;32mmaster[m[33m)[m HEAD@{12}: commit: 本次提交的描述信息
+[33mf37f7a3[m[33m ([m[1;31morigin/master[m[33m, [m[1;31morigin/HEAD[m[33m)[m HEAD@{13}: clone: from github.com:TZJ-BYTE/StudentManageSystem.git
Index: src/main/webapp/WEB-INF/jsp/allfuns.jsp
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><%--\n  Created by IntelliJ IDEA.\n  User: 十一月的肖邦\n  Date: 2025/1/2\n  Time: 15:46\n  To change this template use File | Settings | File Templates.\n--%>\n<%@ page contentType=\"text/html;charset=UTF-8\" language=\"java\" %>\n<!DOCTYPE html>\n<html lang=\"zh\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>教育管理系统</title>\n    <style>\n        body {\n            margin: 0;\n            font-family: Arial, sans-serif;\n        }\n\n        .header {\n            background-color: #333;\n            color: white;\n            padding: 10px 20px;\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n        }\n\n        .header .logo {\n            font-size: 24px;\n        }\n\n        .header .user-info {\n            display: flex;\n            align-items: center;\n        }\n\n        .header .user-info img {\n            width: 40px;\n            height: 40px;\n            border-radius: 50%;\n            margin-right: 10px;\n        }\n\n        .sidebar {\n            width: 200px;\n            background-color: #f4f4f4;\n            height: 100vh;\n            position: fixed;\n            overflow-y: auto;\n        }\n\n        .content {\n            margin-left: 200px;\n            padding: 20px;\n        }\n\n        .sidebar ul {\n            list-style: none;\n            padding: 0;\n        }\n\n        .sidebar ul li {\n            padding: 10px;\n            cursor: pointer;\n        }\n\n        .sidebar ul li:hover {\n            background-color: #ddd;\n        }\n    </style>\n</head>\n<body>\n\n<div class=\"header\">\n    <div class=\"logo\">系统Logo</div>\n    <div class=\"title\">学生管理系统</div>\n    <div class=\"user-info\">\n        <img src=\"../images/1.png\" alt=\"用户头像\">\n        <div>用户名</div>\n        <!-- 添加onclick事件，当点击\"我的\"时跳转到个人中心页面 -->\n        <div style=\"margin-left: 10px; cursor: pointer;\" onclick=\"navigate('profile')\">我的</div>\n        <!-- 添加onclick事件，当点击\"设置\"时跳转到设置页面 -->\n        <div style=\"margin-left: 10px; cursor: pointer;\" onclick=\"navigate('settings')\">设置</div>\n        <!-- 添加onclick事件，当点击\"退出登录\"时执行退出登录操作 -->\n        <div style=\"margin-left: 10px; cursor: pointer;\" onclick=\"navigate('logout')\">退出登录</div>\n    </div>\n</div>\n\n\n<div class=\"sidebar\">\n    <ul>\n        <li onclick=\"navigate('home')\">首页</li>\n        <li onclick=\"navigate('teacher')\">教师管理</li>\n        <li onclick=\"navigate('student')\">学生管理</li>\n        <li onclick=\"navigate('class')\">班级管理</li>\n        <li onclick=\"navigate('course')\">课程管理</li>\n        <li onclick=\"navigate('college')\">学院管理</li>\n    </ul>\n</div>\n\n<div class=\"content\" id=\"main-content\">\n    <h1>欢迎使用教育管理系统</h1>\n    <p>请从左侧菜单选择一个模块。</p>\n</div>\n<script>\n    const contextPath = \"${pageContext.request.contextPath}\";\n</script>\n<script src=\"../js/allfuns.js\"></script>\n</body>\n</html>\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/webapp/WEB-INF/jsp/allfuns.jsp b/src/main/webapp/WEB-INF/jsp/allfuns.jsp
--- a/src/main/webapp/WEB-INF/jsp/allfuns.jsp	(revision 4a49462e1981e81c199d08907454e641d53cfb41)
+++ b/src/main/webapp/WEB-INF/jsp/allfuns.jsp	(date 1736832928944)
@@ -12,82 +12,26 @@
     <meta charset="UTF-8">
     <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <title>教育管理系统</title>
-    <style>
-        body {
-            margin: 0;
-            font-family: Arial, sans-serif;
-        }
-
-        .header {
-            background-color: #333;
-            color: white;
-            padding: 10px 20px;
-            display: flex;
-            justify-content: space-between;
-            align-items: center;
-        }
-
-        .header .logo {
-            font-size: 24px;
-        }
-
-        .header .user-info {
-            display: flex;
-            align-items: center;
-        }
-
-        .header .user-info img {
-            width: 40px;
-            height: 40px;
-            border-radius: 50%;
-            margin-right: 10px;
-        }
-
-        .sidebar {
-            width: 200px;
-            background-color: #f4f4f4;
-            height: 100vh;
-            position: fixed;
-            overflow-y: auto;
-        }
-
-        .content {
-            margin-left: 200px;
-            padding: 20px;
-        }
-
-        .sidebar ul {
-            list-style: none;
-            padding: 0;
-        }
-
-        .sidebar ul li {
-            padding: 10px;
-            cursor: pointer;
-        }
-
-        .sidebar ul li:hover {
-            background-color: #ddd;
-        }
-    </style>
+    <link rel="stylesheet" href="../css/styles.css"> <!-- 添加CSS文件引入 -->
+    <link rel="stylesheet" href="../css/allfuns.css"> <!-- 添加新的CSS文件引入 -->
 </head>
 <body>
 
 <div class="header">
     <div class="logo">系统Logo</div>
     <div class="title">学生管理系统</div>
-    <div class="user-info">
-        <img src="../images/1.png" alt="用户头像">
-        <div>用户名</div>
-        <!-- 添加onclick事件，当点击"我的"时跳转到个人中心页面 -->
-        <div style="margin-left: 10px; cursor: pointer;" onclick="navigate('profile')">我的</div>
-        <!-- 添加onclick事件，当点击"设置"时跳转到设置页面 -->
-        <div style="margin-left: 10px; cursor: pointer;" onclick="navigate('settings')">设置</div>
-        <!-- 添加onclick事件，当点击"退出登录"时执行退出登录操作 -->
-        <div style="margin-left: 10px; cursor: pointer;" onclick="navigate('logout')">退出登录</div>
+    <div class="dropdown">
+        <div class="dropbtn">
+            <img src="../images/1.png" class="user-info-img" alt="用户头像">
+            <div>${usermsg}</div>
+        </div>
+        <div class="dropdown-content">
+            <div class="user-action" onclick="showPopupLayer()">我的</div>
+
+            <div class="user-action" onclick="navigate('logout')">退出登录</div>
+        </div>
     </div>
 </div>
-
 
 <div class="sidebar">
     <ul>
@@ -104,9 +48,86 @@
     <h1>欢迎使用教育管理系统</h1>
     <p>请从左侧菜单选择一个模块。</p>
 </div>
+<%--弹出层的标签--%>
+<!-- 遮罩层 -->
+<div id="overlay"></div>
+<!-- 按钮用于触发弹出层 -->
+<button id="popup-button">点击弹出</button>
+<!-- 弹出层，初始时隐藏 -->
+<div id="popup-layer" style="display:none;">
+    <div class="pop-header">
+        <div class="pop-title">个人信息</div>
+        <div id="close-button" class="pop-close" style="cursor:pointer;">×</div>
+    </div>
+    <div class="pop-body-list-item">
+        <div class="pop-body-text">
+            <text style="color: #6d6d6d;padding-right: 20px">
+                用户头像:
+            </text>
+        </div>
+        <div class="pop-body-image">
+            <img class="pop-body-image" src="../images/1.png" style="vertical-align: middle;">
+        </div>
+    </div>
+    <div class="pop-body-list-item" style="display: flex; align-items: center;">
+        <text style="color: #6d6d6d;padding-right: 20px;">用户昵称:</text>
+        <div id="nicknameDisplay">${usermsg}</div>
+        <img id="editNickname" style="width: 17px;height: 17px;padding-left: 15px; cursor:pointer;"
+             src="../images/pen.png" alt="Edit">
+        <div id="nicknameInputContainer" style="display:none; flex-grow: 1; position: relative;">
+            <input type="text" id="nicknameInput" value="${usermsg}"
+                   style="width: 100%; height: 34px; background-color: #f8f8fb; border-color: #fb326c;padding: 0; box-sizing: border-box;">
+            <button id="confirmBtn"
+                    style="display:none; position: absolute; right: 0; top: 0; height: 34px; border: none; background: none;">
+                确认
+            </button>
+        </div>
+    </div>
+    <div class="pop-body-list-item">
+        <text style="color: #6d6d6d;padding-right: 20px">
+            手机号码
+        </text>
+        <div>
+            -
+        </div>
+    </div>
+    <div class="pop-body-list-item">
+        <text style="color: #6d6d6d;padding-right: 20px">
+            邮箱号码
+        </text>
+        <div>
+            -
+        </div>
+    </div>
+    <div class="pop-header" style="padding-top: 80px">
+        <div class="pop-title">更改密码</div>
+    </div>
+    <form onsubmit="checkAndUpdatePassword(); return false;">
+        <div style="width: 300px;height: 300px;">
+            <div class="input-container">
+                <label for="originalPassword">原密码：</label>
+                <input type="password" id="originalPassword" required>
+            </div>
+
+            <div class="input-container">
+                <label for="newPassword">新密码：</label>
+                <input type="password" id="newPassword" required>
+            </div>
+
+            <div class="input-container">
+                <label for="confirmPassword">确认新密码：</label>
+                <input style="margin-right: 9px" type="password" id="confirmPassword" required>
+            </div>
+
+            <input type="submit" value="确认修改" class="submit-button">
+        </div>
+    </form>
+</div>
 <script>
     const contextPath = "${pageContext.request.contextPath}";
 </script>
 <script src="../js/allfuns.js"></script>
+<%--弹出层的script--%>
+
 </body>
-</html>
+</html>
\ No newline at end of file
Index: src/main/webapp/WEB-INF/jsp/register.jsp
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><!DOCTYPE html>\n<%@ page contentType=\"text/html;charset=UTF-8\" language=\"java\" %>\n<%@ page isELIgnored=\"false\" %>\n<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <title>用户注册</title>\n    <script src=\"https://code.jquery.com/jquery-3.6.0.min.js\"></script>\n    <script src=\"${pageContext.request.contextPath}/js/register.js\"></script>\n    <script>\n        // 定义上下文路径变量\n        var contextPath = \"${pageContext.request.contextPath}\";\n    </script>\n</head>\n<body>\n\n<div class=\"form-container\">\n    <div class=\"form-header\">\n        <h2>用户注册</h2>\n        <span>已经在系统中？<a href=\"${pageContext.request.contextPath}/user/loginpage\">登录</a></span>\n    </div>\n\n    <form id=\"registrationForm\">\n        <label for=\"username\">用户名:</label>\n        <input type=\"text\" id=\"username\" name=\"username\" required>\n        <br><br>\n        <label for=\"password\">密码:</label>\n        <input type=\"password\" id=\"password\" name=\"password\" required>\n        <br><br>\n        <button type=\"submit\">注册</button>\n    </form>\n\n    <div id=\"responseMessage\"></div>\n</div>\n\n</body>\n</html>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/webapp/WEB-INF/jsp/register.jsp b/src/main/webapp/WEB-INF/jsp/register.jsp
--- a/src/main/webapp/WEB-INF/jsp/register.jsp	(revision 4a49462e1981e81c199d08907454e641d53cfb41)
+++ b/src/main/webapp/WEB-INF/jsp/register.jsp	(date 1736832908137)
@@ -8,6 +8,7 @@
     <title>用户注册</title>
     <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
     <script src="${pageContext.request.contextPath}/js/register.js"></script>
+    <link rel="stylesheet" href="${pageContext.request.contextPath}/css/common.css">
     <script>
         // 定义上下文路径变量
         var contextPath = "${pageContext.request.contextPath}";
Index: src/main/webapp/WEB-INF/jsp/success.jsp
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><%--\n  Created by IntelliJ IDEA.\n  User: 十一月的肖邦\n  Date: 2024/12/30\n  Time: 9:55\n  To change this template use File | Settings | File Templates.\n--%>\n<%@ page contentType=\"text/html;charset=UTF-8\" language=\"java\" %>\n<html>\n<head>\n    <title>Title</title>\n  <h2>测试成功le</h2>\n</head>\n<body>\n\n</body>\n</html>\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/webapp/WEB-INF/jsp/success.jsp b/src/main/webapp/WEB-INF/jsp/success.jsp
--- a/src/main/webapp/WEB-INF/jsp/success.jsp	(revision 4a49462e1981e81c199d08907454e641d53cfb41)
+++ b/src/main/webapp/WEB-INF/jsp/success.jsp	(date 1736832933624)
@@ -1,17 +1,94 @@
-<%--
-  Created by IntelliJ IDEA.
-  User: 十一月的肖邦
-  Date: 2024/12/30
-  Time: 9:55
-  To change this template use File | Settings | File Templates.
---%>
 <%@ page contentType="text/html;charset=UTF-8" language="java" %>
-<html>
+<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
+<!DOCTYPE html>
+<html lang="en">
 <head>
-    <title>Title</title>
-  <h2>测试成功le</h2>
+    <meta charset="UTF-8">
+    <title>Password Update Form</title>
+    <style>
+
+        .input-container {
+            margin-bottom: 10px;
+            display: flex;
+            justify-content: space-around;
+            align-items: center;
+        }
+        .input-container label {
+            color: #6d6d6d;
+
+        }
+        .input-container input {
+            width: 100px;
+            background-color: #f8f8fb;
+            padding: 5px 10px;
+            border: 1px solid #d9d9d9;
+            border-radius: 4px;
+        }
+        .input-container input:focus {
+            border-color: #fb326c;
+        }
+        .submit-button {
+            background-color: #007bff;
+            color: white;
+            border: none;
+            padding: 10px 20px;
+            border-radius: 4px;
+            cursor: pointer;
+            display: flex;
+            margin-left: 180px;
+        }
+        .submit-button:hover {
+            background-color: #0056b3;
+        }
+    </style>
+    <script>
+        function checkAndUpdatePassword() {
+            var originalPassword = document.getElementById('originalPassword').value;
+            var newPassword = document.getElementById('newPassword').value;
+            var confirmPassword = document.getElementById('confirmPassword').value;
+
+            if (newPassword !== confirmPassword) {
+                alert('两次输入的密码不同，请重新输入。');
+                return;
+            }
+
+            var xhr = new XMLHttpRequest();
+            xhr.open('GET', '/updatepasswd?originalPassword=' + encodeURIComponent(originalPassword) + '&newPassword=' + encodeURIComponent(newPassword), true);
+            xhr.onreadystatechange = function () {
+                if (xhr.readyState === 4) {
+                    if (xhr.status === 200) {
+                        alert('密码更新成功！');
+                    } else {
+                        alert('密码更新失败：' + xhr.statusText);
+                    }
+                }
+            };
+            xhr.send();
+        }
+    </script>
 </head>
 <body>
 
+<form onsubmit="checkAndUpdatePassword(); return false;">
+    <div style="width: 300px;height: 300px;">
+        <div class="input-container">
+            <label for="originalPassword">原密码：</label>
+            <input type="password" id="originalPassword" required>
+        </div>
+
+        <div class="input-container">
+            <label for="newPassword">新密码：</label>
+            <input type="password" id="newPassword" required>
+        </div>
+
+        <div class="input-container">
+            <label for="confirmPassword">确认新密码：</label>
+            <input style="margin-right: 9px" type="password" id="confirmPassword" required>
+        </div>
+
+        <input type="submit" value="确认修改" class="submit-button">
+    </div>
+</form>
+
 </body>
 </html>
Index: src/main/webapp/WEB-INF/jsp/teacher.jsp
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/webapp/WEB-INF/jsp/teacher.jsp b/src/main/webapp/WEB-INF/jsp/teacher.jsp
new file mode 100644
--- /dev/null	(date 1736832908137)
+++ b/src/main/webapp/WEB-INF/jsp/teacher.jsp	(date 1736832908137)
@@ -0,0 +1,55 @@
+<%@ page contentType="text/html;charset=UTF-8" language="java" %>
+<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
+<html>
+<head>
+    <title>教师管理</title>
+    <link rel="stylesheet" type="text/css" href="${pageContext.request.contextPath}/css/teacher.css">
+    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
+</head>
+<body>
+<h1>教师管理</h1>
+<div class="action-links">
+    <a href="${pageContext.request.contextPath}/teacher/add" class="add-button">添加教师</a>
+    <div class="search-container">
+        <input type="text" id="searchName" placeholder="按姓名搜索" class="search-input">
+        <input type="text" id="searchId" placeholder="按工号搜索" class="search-input">
+        <button type="button" id="searchButton" class="search-button">搜索</button>
+    </div>
+</div>
+<table id="teacherTable">
+    <thead>
+    <tr>
+        <th>工号</th>
+        <th>姓名</th>
+        <th>性别</th>
+        <th>职称</th>
+        <th>联系电话</th>
+        <th>研究领域</th>
+        <th>部门ID</th>
+        <th>操作</th>
+    </tr>
+    </thead>
+    <tbody>
+    <!-- 动态生成的行将插入到这里 -->
+    </tbody>
+</table>
+<div class="pagination"
+     data-current-page="${empty param.page ? 1 : param.page}"
+     data-total-pages="${empty totalPages ? 1 : totalPages}"
+     data-page-size="${empty param.pageSize ? 10 : param.pageSize}">
+    <c:if test="${param.page > 1}">
+        <a href="?page=${param.page - 1}&pageSize=${param.pageSize}">上一页</a>
+    </c:if>
+    <span>当前页: <span id="currentPage">${empty param.page ? 1 : param.page}</span> / 总页数: <span id="totalPages">${empty totalPages ? 1 : totalPages}</span></span>
+    <c:if test="${param.page < totalPages}">
+        <a href="?page=${param.page + 1}&pageSize=${param.pageSize}">下一页</a>
+    </c:if>
+</div>
+<script>
+    // 将 contextPath 传递给全局变量
+    var contextPath = "${pageContext.request.contextPath}";
+</script>
+<!-- 引入外部 JavaScript 文件 -->
+<script src="${pageContext.request.contextPath}/js/teacher.js"></script>
+</body>
+</html>
\ No newline at end of file
Index: src/main/webapp/WEB-INF/web.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<web-app xmlns=\"http://xmlns.jcp.org/xml/ns/javaee\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd\"\n         version=\"4.0\">\n  <display-name>Archetype Created Web Application</display-name>\n\n  <!--启动Spring-->\n  <context-param>\n    <param-name>contextConfigLocation</param-name>\n    <param-value>classpath:spring-mybatis.xml</param-value>\n  </context-param>\n  <listener>\n    <listener-class>org.springframework.web.context.ContextLoaderListener</listener-class>\n  </listener>\n  <!--Spring MVC-->\n  <servlet>\n    <servlet-name>dispatcherServlet</servlet-name>\n    <servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class>\n    <init-param>\n      <param-name>contextConfigLocation</param-name>\n      <param-value>classpath:spring-mvc.xml</param-value>\n    </init-param>\n  </servlet>\n  <servlet-mapping>\n    <servlet-name>dispatcherServlet</servlet-name>\n    <url-pattern>/</url-pattern>\n  </servlet-mapping>\n  <!--字符编码过滤-->\n  <filter>\n    <filter-name>characterEncodingFilter</filter-name>\n    <filter-class>org.springframework.web.filter.CharacterEncodingFilter</filter-class>\n    <init-param>\n      <param-name>encoding</param-name>\n      <param-value>UTF-8</param-value>\n    </init-param>\n  </filter>\n  <filter-mapping>\n    <filter-name>characterEncodingFilter</filter-name>\n    <url-pattern>/*</url-pattern>\n  </filter-mapping>\n</web-app>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/webapp/WEB-INF/web.xml b/src/main/webapp/WEB-INF/web.xml
--- a/src/main/webapp/WEB-INF/web.xml	(revision 4a49462e1981e81c199d08907454e641d53cfb41)
+++ b/src/main/webapp/WEB-INF/web.xml	(date 1736832908137)
@@ -5,6 +5,7 @@
          version="4.0">
   <display-name>Archetype Created Web Application</display-name>
 
+
   <!--启动Spring-->
   <context-param>
     <param-name>contextConfigLocation</param-name>
Index: target/classes/com/cnlbc/repository/CourseRepository.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/target/classes/com/cnlbc/repository/CourseRepository.xml b/target/classes/com/cnlbc/repository/CourseRepository.xml
new file mode 100644
--- /dev/null	(date 1736832950955)
+++ b/target/classes/com/cnlbc/repository/CourseRepository.xml	(date 1736832950955)
@@ -0,0 +1,29 @@
+<?xml version="1.0" encoding="UTF-8" ?>
+<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
+
+<mapper namespace="com.cnlbc.repository.CourseRepository">
+
+    <select id="findAllCourses" resultType="com.cnlbc.pojo.Course">
+        SELECT * FROM courses
+    </select>
+
+    <select id="findCourseById" resultType="com.cnlbc.pojo.Course">
+        SELECT * FROM courses WHERE course_id = #{courseId}
+    </select>
+
+    <insert id="addCourse" parameterType="com.cnlbc.pojo.Course">
+        INSERT INTO courses (course_id, course_name, description, department_id)
+        VALUES (#{courseId}, #{courseName}, #{description}, #{departmentId})
+    </insert>
+
+    <update id="updateCourse" parameterType="com.cnlbc.pojo.Course">
+        UPDATE courses
+        SET course_name = #{courseName}, description = #{description}, department_id = #{departmentId}
+        WHERE course_id = #{courseId}
+    </update>
+
+    <delete id="deleteCourse">
+        DELETE FROM courses WHERE course_id = #{courseId}
+    </delete>
+
+</mapper>
Index: target/classes/com/cnlbc/repository/TeacherRepository.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/target/classes/com/cnlbc/repository/TeacherRepository.xml b/target/classes/com/cnlbc/repository/TeacherRepository.xml
new file mode 100644
--- /dev/null	(date 1736832950955)
+++ b/target/classes/com/cnlbc/repository/TeacherRepository.xml	(date 1736832950955)
@@ -0,0 +1,32 @@
+<?xml version="1.0" encoding="UTF-8" ?>
+<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
+
+<mapper namespace="com.cnlbc.repository.TeacherRepository">
+
+    <select id="findAllTeacher" resultType="Teacher">
+        SELECT * FROM teachers
+    </select>
+
+    <select id="findTeacherById" resultType="Teacher">
+        SELECT * FROM teachers WHERE teacher_id = #{teacherId}
+    </select>
+
+    <insert id="addTeacher" parameterType="Teacher">
+        INSERT INTO teachers (teacher_id, name, gender, title, fieldofstudy, contact_number, departmentid)
+        VALUES (#{teacherId}, #{name}, #{gender}, #{title}, #{fieldofStudy}, #{contactNumber}, #{departmentid})
+    </insert>
+
+    <update id="updateTeacher" parameterType="Teacher">
+        UPDATE teachers
+        SET name = #{name}, gender = #{gender}, title = #{title}, fieldofstudy = #{fieldofStudy}, contact_number = #{contactNumber}, departmentid = #{departmentid}
+        WHERE teacher_id = #{teacherId}
+    </update>
+
+    <delete id="deleteTeacher">
+        DELETE FROM teachers WHERE teacher_id = #{teacherId}
+    </delete>
+
+    <select id="countTeachers" resultType="int">
+        SELECT COUNT(*) FROM teachers
+    </select>
+</mapper>
Index: target/classes/com/cnlbc/repository/StudentRepository.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/target/classes/com/cnlbc/repository/StudentRepository.xml b/target/classes/com/cnlbc/repository/StudentRepository.xml
new file mode 100644
--- /dev/null	(date 1736832950955)
+++ b/target/classes/com/cnlbc/repository/StudentRepository.xml	(date 1736832950955)
@@ -0,0 +1,29 @@
+<?xml version="1.0" encoding="UTF-8" ?>
+<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
+
+<mapper namespace="com.cnlbc.repository.StudentRepository">
+
+    <select id="findAllStudents" resultType="com.cnlbc.pojo.Student">
+        SELECT * FROM students
+    </select>
+
+    <select id="findStudentById" resultType="com.cnlbc.pojo.Student">
+        SELECT * FROM students WHERE student_id = #{studentId}
+    </select>
+
+    <insert id="addStudent" parameterType="com.cnlbc.pojo.Student">
+        INSERT INTO students (student_id, student_name, age, department_id)
+        VALUES (#{studentId}, #{studentName}, #{age}, #{departmentId})
+    </insert>
+
+    <update id="updateStudent" parameterType="com.cnlbc.pojo.Student">
+        UPDATE students
+        SET student_name = #{studentName}, age = #{age}, department_id = #{departmentId}
+        WHERE student_id = #{studentId}
+    </update>
+
+    <delete id="deleteStudent">
+        DELETE FROM students WHERE student_id = #{studentId}
+    </delete>
+
+</mapper>
Index: src/main/java/com/cnlbc/controller/TeacherController.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/java/com/cnlbc/controller/TeacherController.java b/src/main/java/com/cnlbc/controller/TeacherController.java
new file mode 100644
--- /dev/null	(date 1736832908136)
+++ b/src/main/java/com/cnlbc/controller/TeacherController.java	(date 1736832908136)
@@ -0,0 +1,59 @@
+package com.cnlbc.controller;
+
+import com.cnlbc.pojo.Teacher;
+import com.cnlbc.service.TeacherService;
+import org.springframework.beans.factory.annotation.Autowired;
+import org.springframework.web.bind.annotation.*;
+
+import java.util.HashMap;
+import java.util.List;
+import java.util.Map;
+
+@RestController
+@RequestMapping("/teacher")
+public class TeacherController {
+
+
+
+    @Autowired
+    private TeacherService teacherService;
+
+    @GetMapping("/findall")
+    public Map<String, Object> findAllTeachers(
+            @RequestParam(value = "page", defaultValue = "1") int page,
+            @RequestParam(value = "pageSize", defaultValue = "10") int pageSize) {
+        List<Teacher> teachers = teacherService.findAllTeacher();
+        // 计算总页数
+        int totalTeachers = teacherService.countTeachers();
+        int totalPages = (int) Math.ceil((double) totalTeachers / pageSize);
+        Map<String, Object> response = new HashMap<>();
+        response.put("teachers", teachers);
+        response.put("currentPage", page);
+        response.put("pageSize", pageSize);
+        response.put("totalPages", totalPages);
+        return response;
+    }
+    @GetMapping("/{teacherId}")
+    public Teacher findTeacherById(@PathVariable String teacherId) {
+        return teacherService.findTeacherById(teacherId);
+    }
+
+    @PostMapping("/add")
+    public String addTeacher(@RequestBody Teacher teacher) {
+        teacherService.addTeacher(teacher);
+        return "success";
+    }
+
+    @PutMapping("/edit/{teacherId}")
+    public String editTeacher(@PathVariable String teacherId, @RequestBody Teacher teacher) {
+        teacher.setTeacherId(teacherId);
+        teacherService.updateTeacher(teacher);
+        return "success";
+    }
+
+    @DeleteMapping("/delete/{teacherId}")
+    public String deleteTeacher(@PathVariable String teacherId) {
+        teacherService.deleteTeacher(teacherId);
+        return "success";
+    }
+}
Index: src/main/java/com/cnlbc/controller/ClassController.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/java/com/cnlbc/controller/ClassController.java b/src/main/java/com/cnlbc/controller/ClassController.java
new file mode 100644
--- /dev/null	(date 1736832908136)
+++ b/src/main/java/com/cnlbc/controller/ClassController.java	(date 1736832908136)
@@ -0,0 +1,18 @@
+package com.cnlbc.controller;
+
+import com.cnlbc.service.ClassService;
+import org.springframework.beans.factory.annotation.Autowired;
+import org.springframework.http.ResponseEntity;
+import org.springframework.web.bind.annotation.*;
+
+import java.util.HashMap;
+import java.util.List;
+import java.util.Map;
+
+// ClassController.java
+@RestController
+@RequestMapping("/api/classes")
+public class ClassController {
+
+}
+
Index: src/main/java/com/cnlbc/controller/StudentController.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/java/com/cnlbc/controller/StudentController.java b/src/main/java/com/cnlbc/controller/StudentController.java
new file mode 100644
--- /dev/null	(date 1736832908136)
+++ b/src/main/java/com/cnlbc/controller/StudentController.java	(date 1736832908136)
@@ -0,0 +1,24 @@
+package com.cnlbc.controller;
+
+import com.cnlbc.pojo.Student;
+import com.cnlbc.service.StudentService;
+import org.springframework.beans.factory.annotation.Autowired;
+import org.springframework.http.ResponseEntity;
+import org.springframework.web.bind.annotation.GetMapping;
+import org.springframework.web.bind.annotation.PathVariable;
+import org.springframework.web.bind.annotation.RequestMapping;
+import org.springframework.web.bind.annotation.RestController;
+
+import java.util.HashMap;
+import java.util.List;
+import java.util.Map;
+
+// StudentController.java
+@RestController
+@RequestMapping("/api/students")
+public class StudentController {
+    @Autowired
+    private StudentService studentService;
+
+
+}
\ No newline at end of file
Index: src/main/java/com/cnlbc/controller/CourseController.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/java/com/cnlbc/controller/CourseController.java b/src/main/java/com/cnlbc/controller/CourseController.java
new file mode 100644
--- /dev/null	(date 1736832908136)
+++ b/src/main/java/com/cnlbc/controller/CourseController.java	(date 1736832908136)
@@ -0,0 +1,13 @@
+package com.cnlbc.controller;
+import com.cnlbc.pojo.Course;
+import com.cnlbc.service.CourseService;
+import org.springframework.stereotype.Controller;
+import org.springframework.web.bind.annotation.*;
+import java.util.List;
+import javax.annotation.Resource;
+
+@Controller
+@RequestMapping("/courses")
+public class CourseController {
+
+}
\ No newline at end of file
Index: target/classes/com/cnlbc/repository/UserRepository.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n<!DOCTYPE mapper PUBLIC \"-//mybatis.org//DTD Mapper 3.0//EN\" \"http://mybatis.org/dtd/mybatis-3-mapper.dtd\">\n\n\n<mapper namespace=\"com.cnlbc.repository.UserRepository\">\n\n    <select id=\"findAllUser\" resultType=\"User\">\n        select * from users\n    </select>\n\n    <select id=\"findUserByName\" resultType=\"User\">\n        select * from users where username = #{username}\n    </select>\n\n</mapper>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/target/classes/com/cnlbc/repository/UserRepository.xml b/target/classes/com/cnlbc/repository/UserRepository.xml
--- a/target/classes/com/cnlbc/repository/UserRepository.xml	(revision 4a49462e1981e81c199d08907454e641d53cfb41)
+++ b/target/classes/com/cnlbc/repository/UserRepository.xml	(date 1736832950955)
@@ -1,15 +1,31 @@
 <?xml version="1.0" encoding="UTF-8" ?>
 <!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
-
-
 <mapper namespace="com.cnlbc.repository.UserRepository">
-
     <select id="findAllUser" resultType="User">
         select * from users
     </select>
-
     <select id="findUserByName" resultType="User">
         select * from users where username = #{username}
     </select>
+    <update id="updateUserName">
+        update users
+        set username = #{newvalue}
+        where username = #{oldname}
+    </update>
+    <update id="updatePassword">
+        UPDATE users
+        SET password = #{password}
+        WHERE username = #{username}
+    </update>
+    <select id="findByPasswd" resultType="User">
+        SELECT *
+        FROM users
+        WHERE username = #{username}
+          AND password = #{password}
+    </select>
+    <insert id="insertUser">
+        INSERT INTO users (username, password)
+        VALUES (#{username}, #{password})
+    </insert>
 
 </mapper>
\ No newline at end of file
Index: target/MySSM/WEB-INF/classes/com/cnlbc/repository/CourseRepository.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/target/MySSM/WEB-INF/classes/com/cnlbc/repository/CourseRepository.xml b/target/MySSM/WEB-INF/classes/com/cnlbc/repository/CourseRepository.xml
new file mode 100644
--- /dev/null	(date 1736832952826)
+++ b/target/MySSM/WEB-INF/classes/com/cnlbc/repository/CourseRepository.xml	(date 1736832952826)
@@ -0,0 +1,29 @@
+<?xml version="1.0" encoding="UTF-8" ?>
+<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
+
+<mapper namespace="com.cnlbc.repository.CourseRepository">
+
+    <select id="findAllCourses" resultType="com.cnlbc.pojo.Course">
+        SELECT * FROM courses
+    </select>
+
+    <select id="findCourseById" resultType="com.cnlbc.pojo.Course">
+        SELECT * FROM courses WHERE course_id = #{courseId}
+    </select>
+
+    <insert id="addCourse" parameterType="com.cnlbc.pojo.Course">
+        INSERT INTO courses (course_id, course_name, description, department_id)
+        VALUES (#{courseId}, #{courseName}, #{description}, #{departmentId})
+    </insert>
+
+    <update id="updateCourse" parameterType="com.cnlbc.pojo.Course">
+        UPDATE courses
+        SET course_name = #{courseName}, description = #{description}, department_id = #{departmentId}
+        WHERE course_id = #{courseId}
+    </update>
+
+    <delete id="deleteCourse">
+        DELETE FROM courses WHERE course_id = #{courseId}
+    </delete>
+
+</mapper>
Index: target/MySSM/WEB-INF/classes/com/cnlbc/repository/TeacherRepository.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/target/MySSM/WEB-INF/classes/com/cnlbc/repository/TeacherRepository.xml b/target/MySSM/WEB-INF/classes/com/cnlbc/repository/TeacherRepository.xml
new file mode 100644
--- /dev/null	(date 1736832952826)
+++ b/target/MySSM/WEB-INF/classes/com/cnlbc/repository/TeacherRepository.xml	(date 1736832952826)
@@ -0,0 +1,32 @@
+<?xml version="1.0" encoding="UTF-8" ?>
+<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
+
+<mapper namespace="com.cnlbc.repository.TeacherRepository">
+
+    <select id="findAllTeacher" resultType="Teacher">
+        SELECT * FROM teachers
+    </select>
+
+    <select id="findTeacherById" resultType="Teacher">
+        SELECT * FROM teachers WHERE teacher_id = #{teacherId}
+    </select>
+
+    <insert id="addTeacher" parameterType="Teacher">
+        INSERT INTO teachers (teacher_id, name, gender, title, fieldofstudy, contact_number, departmentid)
+        VALUES (#{teacherId}, #{name}, #{gender}, #{title}, #{fieldofStudy}, #{contactNumber}, #{departmentid})
+    </insert>
+
+    <update id="updateTeacher" parameterType="Teacher">
+        UPDATE teachers
+        SET name = #{name}, gender = #{gender}, title = #{title}, fieldofstudy = #{fieldofStudy}, contact_number = #{contactNumber}, departmentid = #{departmentid}
+        WHERE teacher_id = #{teacherId}
+    </update>
+
+    <delete id="deleteTeacher">
+        DELETE FROM teachers WHERE teacher_id = #{teacherId}
+    </delete>
+
+    <select id="countTeachers" resultType="int">
+        SELECT COUNT(*) FROM teachers
+    </select>
+</mapper>
Index: target/MySSM/WEB-INF/classes/com/cnlbc/repository/StudentRepository.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/target/MySSM/WEB-INF/classes/com/cnlbc/repository/StudentRepository.xml b/target/MySSM/WEB-INF/classes/com/cnlbc/repository/StudentRepository.xml
new file mode 100644
--- /dev/null	(date 1736832952828)
+++ b/target/MySSM/WEB-INF/classes/com/cnlbc/repository/StudentRepository.xml	(date 1736832952828)
@@ -0,0 +1,29 @@
+<?xml version="1.0" encoding="UTF-8" ?>
+<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
+
+<mapper namespace="com.cnlbc.repository.StudentRepository">
+
+    <select id="findAllStudents" resultType="com.cnlbc.pojo.Student">
+        SELECT * FROM students
+    </select>
+
+    <select id="findStudentById" resultType="com.cnlbc.pojo.Student">
+        SELECT * FROM students WHERE student_id = #{studentId}
+    </select>
+
+    <insert id="addStudent" parameterType="com.cnlbc.pojo.Student">
+        INSERT INTO students (student_id, student_name, age, department_id)
+        VALUES (#{studentId}, #{studentName}, #{age}, #{departmentId})
+    </insert>
+
+    <update id="updateStudent" parameterType="com.cnlbc.pojo.Student">
+        UPDATE students
+        SET student_name = #{studentName}, age = #{age}, department_id = #{departmentId}
+        WHERE student_id = #{studentId}
+    </update>
+
+    <delete id="deleteStudent">
+        DELETE FROM students WHERE student_id = #{studentId}
+    </delete>
+
+</mapper>
Index: target/MySSM/WEB-INF/web.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<web-app xmlns=\"http://xmlns.jcp.org/xml/ns/javaee\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd\"\n         version=\"4.0\">\n  <display-name>Archetype Created Web Application</display-name>\n\n  <!--启动Spring-->\n  <context-param>\n    <param-name>contextConfigLocation</param-name>\n    <param-value>classpath:spring-mybatis.xml</param-value>\n  </context-param>\n  <listener>\n    <listener-class>org.springframework.web.context.ContextLoaderListener</listener-class>\n  </listener>\n  <!--Spring MVC-->\n  <servlet>\n    <servlet-name>dispatcherServlet</servlet-name>\n    <servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class>\n    <init-param>\n      <param-name>contextConfigLocation</param-name>\n      <param-value>classpath:spring-mvc.xml</param-value>\n    </init-param>\n  </servlet>\n  <servlet-mapping>\n    <servlet-name>dispatcherServlet</servlet-name>\n    <url-pattern>/</url-pattern>\n  </servlet-mapping>\n  <!--字符编码过滤-->\n  <filter>\n    <filter-name>characterEncodingFilter</filter-name>\n    <filter-class>org.springframework.web.filter.CharacterEncodingFilter</filter-class>\n    <init-param>\n      <param-name>encoding</param-name>\n      <param-value>UTF-8</param-value>\n    </init-param>\n  </filter>\n  <filter-mapping>\n    <filter-name>characterEncodingFilter</filter-name>\n    <url-pattern>/*</url-pattern>\n  </filter-mapping>\n</web-app>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/target/MySSM/WEB-INF/web.xml b/target/MySSM/WEB-INF/web.xml
--- a/target/MySSM/WEB-INF/web.xml	(revision 4a49462e1981e81c199d08907454e641d53cfb41)
+++ b/target/MySSM/WEB-INF/web.xml	(date 1736832952829)
@@ -5,6 +5,7 @@
          version="4.0">
   <display-name>Archetype Created Web Application</display-name>
 
+
   <!--启动Spring-->
   <context-param>
     <param-name>contextConfigLocation</param-name>
Index: target/maven-archiver/pom.properties
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>#Generated by Maven\n#Fri Jan 03 10:12:10 CST 2025\nversion=1.0-SNAPSHOT\ngroupId=org.example\nartifactId=MySSM\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>ISO-8859-1
===================================================================
diff --git a/target/maven-archiver/pom.properties b/target/maven-archiver/pom.properties
--- a/target/maven-archiver/pom.properties	(revision 4a49462e1981e81c199d08907454e641d53cfb41)
+++ b/target/maven-archiver/pom.properties	(date 1736832932289)
@@ -1,5 +1,5 @@
 #Generated by Maven
-#Fri Jan 03 10:12:10 CST 2025
+#Sun Jan 12 13:38:49 CST 2025
 version=1.0-SNAPSHOT
 groupId=org.example
 artifactId=MySSM
Index: target/maven-status/maven-compiler-plugin/compile/default-compile/createdFiles.lst
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>com\\cnlbc\\repository\\UserRepository.class\ncom\\cnlbc\\pojo\\User.class\ncom\\cnlbc\\controller\\HomeController.class\ncom\\cnlbc\\service\\UserService.class\ncom\\cnlbc\\service\\UserServiceImpl.class\ncom\\cnlbc\\controller\\Initialize.class\ncom\\cnlbc\\controller\\LoginController.class\ncom\\cnlbc\\pojo\\Msg.class\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/target/maven-status/maven-compiler-plugin/compile/default-compile/createdFiles.lst b/target/maven-status/maven-compiler-plugin/compile/default-compile/createdFiles.lst
--- a/target/maven-status/maven-compiler-plugin/compile/default-compile/createdFiles.lst	(revision 4a49462e1981e81c199d08907454e641d53cfb41)
+++ b/target/maven-status/maven-compiler-plugin/compile/default-compile/createdFiles.lst	(date 1736832929751)
@@ -1,8 +1,27 @@
+com\cnlbc\controller\ClassController.class
 com\cnlbc\repository\UserRepository.class
-com\cnlbc\pojo\User.class
 com\cnlbc\controller\HomeController.class
 com\cnlbc\service\UserService.class
 com\cnlbc\service\UserServiceImpl.class
 com\cnlbc\controller\Initialize.class
 com\cnlbc\controller\LoginController.class
+com\cnlbc\pojo\Teacher.class
 com\cnlbc\pojo\Msg.class
+com\cnlbc\repository\StudentRepository.class
+com\cnlbc\service\TeacherServiceImpl.class
+com\cnlbc\service\CourseServiceImpl.class
+com\cnlbc\service\ClassService.class
+com\cnlbc\service\StudentServiceImpl.class
+com\cnlbc\service\CourseService.class
+com\cnlbc\repository\TeacherRepository.class
+com\cnlbc\controller\StudentController.class
+com\cnlbc\pojo\User.class
+com\cnlbc\pojo\Course.class
+com\cnlbc\service\TeacherService.class
+com\cnlbc\controller\CourseController.class
+com\cnlbc\repository\CourseRepository.class
+com\cnlbc\pojo\Class.class
+com\cnlbc\repository\ClassRepository.class
+com\cnlbc\pojo\Student.class
+com\cnlbc\service\StudentService.class
+com\cnlbc\controller\TeacherController.class
Index: target/maven-status/maven-compiler-plugin/compile/default-compile/inputFiles.lst
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>E:\\study\\project\\JAVA\\StudentManageSystem\\src\\main\\java\\com\\cnlbc\\service\\UserServiceImpl.java\nE:\\study\\project\\JAVA\\StudentManageSystem\\src\\main\\java\\com\\cnlbc\\pojo\\Msg.java\nE:\\study\\project\\JAVA\\StudentManageSystem\\src\\main\\java\\com\\cnlbc\\controller\\HomeController.java\nE:\\study\\project\\JAVA\\StudentManageSystem\\src\\main\\java\\com\\cnlbc\\service\\UserService.java\nE:\\study\\project\\JAVA\\StudentManageSystem\\src\\main\\java\\com\\cnlbc\\pojo\\User.java\nE:\\study\\project\\JAVA\\StudentManageSystem\\src\\main\\java\\com\\cnlbc\\controller\\LoginController.java\nE:\\study\\project\\JAVA\\StudentManageSystem\\src\\main\\java\\com\\cnlbc\\repository\\UserRepository.java\nE:\\study\\project\\JAVA\\StudentManageSystem\\src\\main\\java\\com\\cnlbc\\controller\\Initialize.java\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/target/maven-status/maven-compiler-plugin/compile/default-compile/inputFiles.lst b/target/maven-status/maven-compiler-plugin/compile/default-compile/inputFiles.lst
--- a/target/maven-status/maven-compiler-plugin/compile/default-compile/inputFiles.lst	(revision 4a49462e1981e81c199d08907454e641d53cfb41)
+++ b/target/maven-status/maven-compiler-plugin/compile/default-compile/inputFiles.lst	(date 1736832930439)
@@ -1,8 +1,27 @@
 E:\study\project\JAVA\StudentManageSystem\src\main\java\com\cnlbc\service\UserServiceImpl.java
 E:\study\project\JAVA\StudentManageSystem\src\main\java\com\cnlbc\pojo\Msg.java
 E:\study\project\JAVA\StudentManageSystem\src\main\java\com\cnlbc\controller\HomeController.java
-E:\study\project\JAVA\StudentManageSystem\src\main\java\com\cnlbc\service\UserService.java
 E:\study\project\JAVA\StudentManageSystem\src\main\java\com\cnlbc\pojo\User.java
+E:\study\project\JAVA\StudentManageSystem\src\main\java\com\cnlbc\service\CourseService.java
+E:\study\project\JAVA\StudentManageSystem\src\main\java\com\cnlbc\controller\Initialize.java
+E:\study\project\JAVA\StudentManageSystem\src\main\java\com\cnlbc\controller\TeacherController.java
+E:\study\project\JAVA\StudentManageSystem\src\main\java\com\cnlbc\service\CourseServiceImpl.java
+E:\study\project\JAVA\StudentManageSystem\src\main\java\com\cnlbc\service\TeacherServiceImpl.java
+E:\study\project\JAVA\StudentManageSystem\src\main\java\com\cnlbc\pojo\Student.java
+E:\study\project\JAVA\StudentManageSystem\src\main\java\com\cnlbc\service\UserService.java
+E:\study\project\JAVA\StudentManageSystem\src\main\java\com\cnlbc\repository\ClassRepository.java
+E:\study\project\JAVA\StudentManageSystem\src\main\java\com\cnlbc\repository\StudentRepository.java
+E:\study\project\JAVA\StudentManageSystem\src\main\java\com\cnlbc\controller\CourseController.java
+E:\study\project\JAVA\StudentManageSystem\src\main\java\com\cnlbc\pojo\Class.java
 E:\study\project\JAVA\StudentManageSystem\src\main\java\com\cnlbc\controller\LoginController.java
+E:\study\project\JAVA\StudentManageSystem\src\main\java\com\cnlbc\service\TeacherService.java
 E:\study\project\JAVA\StudentManageSystem\src\main\java\com\cnlbc\repository\UserRepository.java
-E:\study\project\JAVA\StudentManageSystem\src\main\java\com\cnlbc\controller\Initialize.java
+E:\study\project\JAVA\StudentManageSystem\src\main\java\com\cnlbc\pojo\Teacher.java
+E:\study\project\JAVA\StudentManageSystem\src\main\java\com\cnlbc\repository\CourseRepository.java
+E:\study\project\JAVA\StudentManageSystem\src\main\java\com\cnlbc\service\ClassService.java
+E:\study\project\JAVA\StudentManageSystem\src\main\java\com\cnlbc\service\StudentServiceImpl.java
+E:\study\project\JAVA\StudentManageSystem\src\main\java\com\cnlbc\controller\ClassController.java
+E:\study\project\JAVA\StudentManageSystem\src\main\java\com\cnlbc\controller\StudentController.java
+E:\study\project\JAVA\StudentManageSystem\src\main\java\com\cnlbc\service\StudentService.java
+E:\study\project\JAVA\StudentManageSystem\src\main\java\com\cnlbc\pojo\Course.java
+E:\study\project\JAVA\StudentManageSystem\src\main\java\com\cnlbc\repository\TeacherRepository.java
Index: target/MySSM/WEB-INF/jsp/login.jsp
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><!DOCTYPE html>\n<%@ page contentType=\"text/html; charset=UTF-8\"%>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>用户登录</title>\n    <script>\n        var contextPath = \"${pageContext.request.contextPath}\";\n    </script>\n    <script src=\"${pageContext.request.contextPath}/js/login.js\"></script>\n</head>\n<body>\n\n<div class=\"form-container\">\n    <div class=\"form-header\">\n        <h2>用户登录</h2>\n        <span>还没有账号？<a href=\"${pageContext.request.contextPath}/user/registerpage\">注册</a></span>\n    </div>\n\n    <form id=\"loginForm\">\n        <label for=\"username\">用户名:</label>\n        <input type=\"text\" id=\"username\" name=\"username\" required>\n        <br><br>\n        <label for=\"password\">密码:</label>\n        <input type=\"password\" id=\"password\" name=\"password\" required>\n        <br><br>\n        <button type=\"button\" onclick=\"login()\">登录</button>\n    </form>\n\n    <div id=\"responseMessage\"></div>\n</div>\n\n</body>\n</html>\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/target/MySSM/WEB-INF/jsp/login.jsp b/target/MySSM/WEB-INF/jsp/login.jsp
--- a/target/MySSM/WEB-INF/jsp/login.jsp	(revision 4a49462e1981e81c199d08907454e641d53cfb41)
+++ b/target/MySSM/WEB-INF/jsp/login.jsp	(date 1736832952829)
@@ -9,6 +9,7 @@
         var contextPath = "${pageContext.request.contextPath}";
     </script>
     <script src="${pageContext.request.contextPath}/js/login.js"></script>
+    <link rel="stylesheet" href="${pageContext.request.contextPath}/css/common.css">
 </head>
 <body>
 
@@ -32,4 +33,4 @@
 </div>
 
 </body>
-</html>
+</html>
\ No newline at end of file
Index: target/MySSM/WEB-INF/jsp/teacher.jsp
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/target/MySSM/WEB-INF/jsp/teacher.jsp b/target/MySSM/WEB-INF/jsp/teacher.jsp
new file mode 100644
--- /dev/null	(date 1736832952828)
+++ b/target/MySSM/WEB-INF/jsp/teacher.jsp	(date 1736832952828)
@@ -0,0 +1,55 @@
+<%@ page contentType="text/html;charset=UTF-8" language="java" %>
+<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
+<html>
+<head>
+    <title>教师管理</title>
+    <link rel="stylesheet" type="text/css" href="${pageContext.request.contextPath}/css/teacher.css">
+    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
+</head>
+<body>
+<h1>教师管理</h1>
+<div class="action-links">
+    <a href="${pageContext.request.contextPath}/teacher/add" class="add-button">添加教师</a>
+    <div class="search-container">
+        <input type="text" id="searchName" placeholder="按姓名搜索" class="search-input">
+        <input type="text" id="searchId" placeholder="按工号搜索" class="search-input">
+        <button type="button" id="searchButton" class="search-button">搜索</button>
+    </div>
+</div>
+<table id="teacherTable">
+    <thead>
+    <tr>
+        <th>工号</th>
+        <th>姓名</th>
+        <th>性别</th>
+        <th>职称</th>
+        <th>联系电话</th>
+        <th>研究领域</th>
+        <th>部门ID</th>
+        <th>操作</th>
+    </tr>
+    </thead>
+    <tbody>
+    <!-- 动态生成的行将插入到这里 -->
+    </tbody>
+</table>
+<div class="pagination"
+     data-current-page="${empty param.page ? 1 : param.page}"
+     data-total-pages="${empty totalPages ? 1 : totalPages}"
+     data-page-size="${empty param.pageSize ? 10 : param.pageSize}">
+    <c:if test="${param.page > 1}">
+        <a href="?page=${param.page - 1}&pageSize=${param.pageSize}">上一页</a>
+    </c:if>
+    <span>当前页: <span id="currentPage">${empty param.page ? 1 : param.page}</span> / 总页数: <span id="totalPages">${empty totalPages ? 1 : totalPages}</span></span>
+    <c:if test="${param.page < totalPages}">
+        <a href="?page=${param.page + 1}&pageSize=${param.pageSize}">下一页</a>
+    </c:if>
+</div>
+<script>
+    // 将 contextPath 传递给全局变量
+    var contextPath = "${pageContext.request.contextPath}";
+</script>
+<!-- 引入外部 JavaScript 文件 -->
+<script src="${pageContext.request.contextPath}/js/teacher.js"></script>
+</body>
+</html>
\ No newline at end of file
Index: target/MySSM/WEB-INF/js/login.js
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>// login.js\n// 跳转到注册页面\nfunction login() {\n    const username = document.getElementById('username').value;\n    const password = document.getElementById('password').value;\n    // 确保用户名和密码不为空\n    if (username === '' || password === '') {\n        alert('请输入用户名和密码');\n        return;\n    }\n    // 构造要发送的JSON对象\n    const userData = {\n        username: username,\n        password: password\n    };\n    console.log(\"发送数据\", userData);\n    // 使用fetch发送POST请求\n    fetch(contextPath + '/user/login', {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(userData)\n    })\n        .then(response => {\n            if (!response.ok) {\n                throw new Error('请求失败');\n            }\n            return response.json();\n        })\n        .then(data => {\n            console.log(\"接收数据\", data);\n            // 处理登录成功的响应\n            // 如果登录成功，直接跳转到成功页面\n            if (data.success) {\n                location.href = contextPath + \"/home/allfunspage\";\n            } else {\n                alert(\"登录失败，请检查用户名和密码\");\n            }\n        })\n        .catch(error => {\n            // 处理请求错误\n            console.error('错误:', error);\n            alert('请求发生错误，请重试');\n        });\n}\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/target/MySSM/WEB-INF/js/login.js b/target/MySSM/WEB-INF/js/login.js
--- a/target/MySSM/WEB-INF/js/login.js	(revision 4a49462e1981e81c199d08907454e641d53cfb41)
+++ b/target/MySSM/WEB-INF/js/login.js	(date 1736832952829)
@@ -33,7 +33,8 @@
             // 处理登录成功的响应
             // 如果登录成功，直接跳转到成功页面
             if (data.success) {
-                location.href = contextPath + "/home/allfunspage";
+                location.href = contextPath + "/user/allfunspage";
+                console.log("登录成功")
             } else {
                 alert("登录失败，请检查用户名和密码");
             }
Index: target/MySSM/META-INF/MANIFEST.MF
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>Manifest-Version: 1.0\nCreated-By: IntelliJ IDEA\nBuilt-By: 十一月的肖邦\nBuild-Jdk: Oracle OpenJDK version 1.8.0_381\n\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/target/MySSM/META-INF/MANIFEST.MF b/target/MySSM/META-INF/MANIFEST.MF
--- a/target/MySSM/META-INF/MANIFEST.MF	(revision 4a49462e1981e81c199d08907454e641d53cfb41)
+++ b/target/MySSM/META-INF/MANIFEST.MF	(date 1736832952817)
@@ -1,5 +1,5 @@
 Manifest-Version: 1.0
 Created-By: IntelliJ IDEA
-Built-By: 十一月的肖邦
-Build-Jdk: Oracle OpenJDK version 1.8.0_381
+Built-By: tzj
+Build-Jdk: 1.8.0_422
 
Index: target/MySSM/WEB-INF/js/register.js
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>// register.js\n$(document).ready(function() {\n    $('#registrationForm').submit(function(event) {\n        event.preventDefault(); // 阻止表单默认提交行为\n\n        const username = $('#username').val();\n        const password = $('#password').val();\n\n        // 准备要发送的数据\n        const data = {\n            \"username\": username,\n            \"password\": password\n        };\n\n        // 发起AJAX POST请求\n        $.ajax({\n            url: contextPath + \"/user/register\",\n            type: 'POST',\n            contentType: 'application/json', // 设置请求头内容类型为JSON\n            data: JSON.stringify(data), // 将JavaScript对象转换为JSON字符串\n            success: function(response) {\n                // 请求成功时的处理\n                if (response.success) {\n                    let countdown = 3;\n                    const intervalId = setInterval(function() {\n                        $('#responseMessage').text(`用户注册成功。将在${countdown}秒后跳转到登录页面`).css('color', 'green');\n                        countdown--;\n                        if (countdown < 0) {\n                            clearInterval(intervalId);\n                            location.href = contextPath + \"/user/loginpage\";\n                        }\n                    }, 1000);\n                } else {\n                    $('#responseMessage').text(response.message).css('color', 'red');\n                }\n            },\n            error: function(xhr, status, error) {\n                // 请求失败时的处理\n                $('#responseMessage').text('注册失败: ' + xhr.responseText).css('color', 'red');\n            }\n        });\n    });\n});\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/target/MySSM/WEB-INF/js/register.js b/target/MySSM/WEB-INF/js/register.js
--- a/target/MySSM/WEB-INF/js/register.js	(revision 4a49462e1981e81c199d08907454e641d53cfb41)
+++ b/target/MySSM/WEB-INF/js/register.js	(date 1736832952829)
@@ -2,16 +2,13 @@
 $(document).ready(function() {
     $('#registrationForm').submit(function(event) {
         event.preventDefault(); // 阻止表单默认提交行为
-
         const username = $('#username').val();
         const password = $('#password').val();
-
         // 准备要发送的数据
         const data = {
             "username": username,
             "password": password
         };
-
         // 发起AJAX POST请求
         $.ajax({
             url: contextPath + "/user/register",
Index: target/MySSM/WEB-INF/js/allfuns.js
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>\nfunction navigate(module) {\n    var content = document.getElementById('main-content');\n    switch (module) {\n        case 'home':\n            content.innerHTML = '<h1>首页</h1><p>这里是系统的首页。</p>';\n            break;\n        case 'teacher':\n            content.innerHTML = '<h1>教师管理</h1><p>这里是教师管理模块。</p>';\n            break;\n        case 'student':\n            content.innerHTML = '<h1>学生管理</h1><p>这里是学生管理模块。</p>';\n            break;\n        case 'class':\n            content.innerHTML = '<h1>班级管理</h1><p>这里是班级管理模块。</p>';\n            break;\n        case 'course':\n            content.innerHTML = '<h1>课程管理</h1><p>这里是课程管理模块。</p>';\n            break;\n        case 'college':\n            content.innerHTML = '<h1>学院管理</h1><p>这里是学院管理模块。</p>';\n            break;\n        //我的\n        case 'profile':\n            console.log(contextPath)\n            location.href = contextPath + \"/user/mepage\";\n            break;\n        //设置\n        case 'settings':\n            location.href = \"\";\n            break;\n        //退出\n        case 'logout':\n            // 在这里执行退出登录逻辑，例如重定向到登录页面\n            location.href = contextPath + \"/user/loginpage\";\n            // 实际应用中可能是：\n            // window.location.href = 'login.html';\n            break;\n        default:\n            content.innerHTML = '<h1>页面未找到</h1><p>抱歉，您请求的页面不存在。</p>';\n    }\n}\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/target/MySSM/WEB-INF/js/allfuns.js b/target/MySSM/WEB-INF/js/allfuns.js
--- a/target/MySSM/WEB-INF/js/allfuns.js	(revision 4a49462e1981e81c199d08907454e641d53cfb41)
+++ b/target/MySSM/WEB-INF/js/allfuns.js	(date 1736832952829)
@@ -6,7 +6,38 @@
             content.innerHTML = '<h1>首页</h1><p>这里是系统的首页。</p>';
             break;
         case 'teacher':
-            content.innerHTML = '<h1>教师管理</h1><p>这里是教师管理模块。</p>';
+            fetch(contextPath + "/home/teachermanage")
+                .then(response => response.text())
+                .then(data => {
+                    content.innerHTML = data;
+
+                    // 重新加载所有 <script> 标签
+                    const scriptTags = content.getElementsByTagName('script');
+                    Array.from(scriptTags).forEach(script => {
+                        if (script.src) {
+                            // 如果有 src 属性，创建新的 <script> 标签并插入到 body 中
+                            const newScript = document.createElement('script');
+                            newScript.src = script.src;
+                            newScript.async = false; // 确保按顺序加载
+                            document.body.appendChild(newScript);
+                        } else {
+                            // 如果是内联脚本，直接执行
+                            eval(script.innerHTML);
+                        }
+                    });
+
+                    // 确保 jQuery 已加载后再执行 teacher.js
+                    if (typeof $ === 'undefined') {
+                        console.error("jQuery is not loaded correctly.");
+                    } else {
+                        $(document).ready(function() {
+                            console.log("Document ready, initializing...");
+                            // 初始化 teacher.js 中的功能
+                            loadTeachers(1, 10); // 或者根据实际情况初始化
+                        });
+                    }
+                })
+                .catch(error => console.error('Error loading teacher.jsp:', error));
             break;
         case 'student':
             content.innerHTML = '<h1>学生管理</h1><p>这里是学生管理模块。</p>';
@@ -40,3 +71,101 @@
             content.innerHTML = '<h1>页面未找到</h1><p>抱歉，您请求的页面不存在。</p>';
     }
 }
+var popupButton = document.getElementById('popup-button');
+var popupLayer = document.getElementById('popup-layer');
+var overlay = document.getElementById('overlay');
+var closeButton = document.getElementById('close-button');
+// 添加点击事件，用于显示弹出层和遮罩层
+function showPopupLayer() {
+    var popupLayer = document.getElementById('popup-layer');
+    var overlay = document.getElementById('overlay');
+    popupLayer.style.display = 'block';
+    overlay.style.display = 'block';
+    document.body.classList.add('modal-open'); // 添加类以改变背景颜色
+}
+// 添加点击事件，用于隐藏弹出层和遮罩层
+closeButton.addEventListener('click', function () {
+    popupLayer.style.display = 'none';
+    overlay.style.display = 'none';
+    document.body.classList.remove('modal-open'); // 移除类以恢复背景颜色
+});
+// 也可以添加点击遮罩层关闭弹出层的逻辑
+overlay.addEventListener('click', function () {
+    popupLayer.style.display = 'none';
+    overlay.style.display = 'none';
+    document.body.classList.remove('modal-open');
+});
+//    输入框
+document.getElementById('editNickname').addEventListener('click', function () {
+    var displayDiv = document.getElementById('nicknameDisplay');
+    var inputDiv = document.getElementById('nicknameInputContainer');
+    var input = document.getElementById('nicknameInput');
+    var editImg = document.getElementById('editNickname');
+    var confirmBtn = document.getElementById('confirmBtn');
+
+    displayDiv.style.display = 'none';
+    inputDiv.style.display = 'block';
+    editImg.style.display = 'none';
+    confirmBtn.style.display = 'block';
+
+    input.value = displayDiv.innerText;
+    input.focus();
+    //input.style.borderColor = '#fb326c';
+
+    confirmBtn.addEventListener('click', function () {
+        displayDiv.innerText = input.value; // 更新显示的昵称
+        // 发送GET请求到/user/updateusername
+        var xhr = new XMLHttpRequest();
+        xhr.open('GET', contextPath+'/user/updateusername?newValue=' + encodeURIComponent(input.value), true);
+        xhr.onreadystatechange = function () {
+            if (xhr.readyState === 4) { // 检查请求是否完成
+                try {
+                    var response = JSON.parse(xhr.responseText); // 尝试解析响应文本为JSON
+                    if (response === true) {
+                        // 响应是布尔值true，表示更新成功
+                        console.log('Nickname updated successfully');
+                        alert("修改昵称成功");
+                    } else {
+                        // 响应是布尔值false，表示更新失败
+                        alert("修改昵称失败请重试");
+                    }
+                } catch (e) {
+                    // 响应不是有效的JSON，可能是服务器返回了错误信息
+                    alert("服务器错误：" + xhr.responseText);
+                }
+            }
+        };
+        xhr.onerror = function () {
+            // 请求过程中发生错误
+            alert("请求出错，请检查网络连接或联系管理员");
+        };
+        xhr.send();
+    });
+    // 移除原有blur事件监听器，因为我们希望在点击确认按钮后才隐藏输入框
+    input.removeEventListener('blur', arguments.callee);
+});
+//    更改密码
+function checkAndUpdatePassword() {
+    var originalPassword = document.getElementById('originalPassword').value;
+    var newPassword = document.getElementById('newPassword').value;
+    var confirmPassword = document.getElementById('confirmPassword').value;
+
+    if (newPassword !== confirmPassword) {
+        alert('两次输入的密码不同，请重新输入。');
+        return;
+    }
+
+    var xhr = new XMLHttpRequest();
+    xhr.open('GET', contextPath+'/user/updatepasswd?originalPassword=' + encodeURIComponent(originalPassword) + '&newPassword=' + encodeURIComponent(newPassword), true);
+    xhr.onreadystatechange = function () {
+        if (xhr.readyState === 4) {
+            var response = JSON.parse(xhr.responseText); // 解析响应文本为JSON对象
+            if (xhr.status === 200 && response) {
+                alert('密码更新成功！');
+            } else {
+                alert('密码更新失败：' + (xhr.statusText || 'Unknown error'));
+            }
+        }
+    };
+    xhr.send();
+}
\ No newline at end of file
Index: src/main/webapp/WEB-INF/css/common.css
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/webapp/WEB-INF/css/common.css b/src/main/webapp/WEB-INF/css/common.css
new file mode 100644
--- /dev/null	(date 1736832908137)
+++ b/src/main/webapp/WEB-INF/css/common.css	(date 1736832908137)
@@ -0,0 +1,134 @@
+/* ... existing code ... */
+body {
+    margin: 0;
+    font-family: Arial, sans-serif;
+    background-color: #f4f4f9;
+    display: flex;
+    justify-content: center;
+    align-items: center;
+    height: 100vh;
+}
+
+.header {
+    background-color: #333;
+    color: white;
+    padding: 10px 20px;
+    display: flex;
+    justify-content: space-between;
+    align-items: center;
+}
+
+.header .logo {
+    font-size: 24px;
+}
+
+.header .user-info {
+    display: flex;
+    align-items: center;
+}
+
+.header .user-info-img {
+    width: 40px;
+    height: 40px;
+    border-radius: 50%;
+    margin-right: 10px;
+}
+
+.sidebar {
+    width: 200px;
+    background-color: #f4f4f4;
+    height: 100vh;
+    position: fixed;
+    overflow-y: auto;
+}
+
+.content {
+    margin-left: 200px;
+    padding: 20px;
+}
+
+.sidebar ul {
+    list-style: none;
+    padding: 0;
+}
+
+.sidebar ul li {
+    padding: 10px;
+    cursor: pointer;
+}
+
+.sidebar ul li:hover {
+    background-color: #ddd;
+}
+
+.form-container {
+    background-color: #fff;
+    padding: 20px;
+    border-radius: 8px;
+    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
+    width: 300px;
+}
+
+.form-header {
+    text-align: center;
+    margin-bottom: 20px;
+}
+
+.form-header h2 {
+    margin: 0;
+    font-size: 24px;
+    color: #333;
+}
+
+.form-header span {
+    font-size: 14px;
+    color: #666;
+}
+
+.form-header a {
+    color: #007bff;
+    text-decoration: none;
+}
+
+.form-header a:hover {
+    text-decoration: underline;
+}
+
+label {
+    display: block;
+    margin-bottom: 5px;
+    font-weight: bold;
+    color: #333;
+}
+
+input[type="text"],
+input[type="password"] {
+    width: 100%;
+    padding: 8px;
+    margin-bottom: 10px;
+    border: 1px solid #ccc;
+    border-radius: 4px;
+    box-sizing: border-box;
+}
+
+button {
+    width: 100%;
+    padding: 10px;
+    background-color: #007bff;
+    color: #fff;
+    border: none;
+    border-radius: 4px;
+    cursor: pointer;
+    font-size: 16px;
+}
+
+button:hover {
+    background-color: #0056b3;
+}
+
+#responseMessage {
+    margin-top: 10px;
+    text-align: center;
+    color: red;
+}
+/* ... existing code ... */
\ No newline at end of file
Index: target/MySSM/WEB-INF/css/allfuns.css
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/target/MySSM/WEB-INF/css/allfuns.css b/target/MySSM/WEB-INF/css/allfuns.css
new file mode 100644
--- /dev/null	(date 1736832952828)
+++ b/target/MySSM/WEB-INF/css/allfuns.css	(date 1736832952828)
@@ -0,0 +1,199 @@
+body {
+    margin: 0;
+    font-family: Arial, sans-serif;
+}
+
+.header {
+    background-color: #333;
+    color: white;
+    padding: 10px 20px;
+    display: flex;
+    justify-content: space-between;
+    align-items: center;
+}
+
+.header .logo {
+    font-size: 24px;
+}
+
+.sidebar {
+    width: 200px;
+    background-color: #f4f4f4;
+    height: 100vh;
+    position: fixed;
+    overflow-y: auto;
+}
+
+.content {
+    margin-left: 200px;
+    padding: 20px;
+}
+
+.sidebar ul {
+    list-style: none;
+    padding: 0;
+}
+
+.sidebar ul li {
+    padding: 10px;
+    cursor: pointer;
+}
+
+.sidebar ul li:hover {
+    background-color: #ddd;
+}
+/*下拉菜单栏的样式*/
+/* 定义图标和下拉菜单的样式 */
+.dropdown {
+    position: relative;
+    display: inline-block;
+    background-color: #333;
+}
+.dropbtn{
+    display: flex;
+    justify-content: center;
+    align-items: center;
+    cursor: pointer;
+}
+.dropdown:hover .dropdown-content {
+    display: block;
+}
+
+.dropdown-content {
+    padding-top: 10px;
+    display: none;
+    position: absolute;
+    background-color: #333;
+    min-width: 160px;
+    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
+    z-index: 1;
+}
+.user-action{
+    padding: 10px;
+    cursor: pointer;
+}
+.dropdown-content a {
+    color: black;
+    padding: 12px 16px;
+    text-decoration: none;
+    display: block;
+}
+
+.dropdown-content div:hover {
+    background-color: #f1f1f1;
+    color: black;
+}
+.user-info-img{
+        width: 40px;
+        height: 40px;
+        border-radius: 50%;
+        margin-right: 10px;
+}
+/*弹出层的样式*/
+/* 主页面背景样式 */
+body.modal-open {
+    background-color: rgba(0, 0, 0, 0.5); /* 半透明灰色 */
+}
+
+/* 弹出层样式，宽度为500px，高度为页面高度 */
+#popup-layer {
+    width: 400px;
+    height: 100%;
+    position: fixed;
+    right: 0;
+    top: 0;
+    background-color: white;
+    padding: 20px;
+    box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
+    z-index: 1000;
+    overflow-y: auto; /* 如果内容超出，允许滚动 */
+}
+
+/* 遮罩层样式，覆盖整个页面并变为指定的灰度 */
+#overlay {
+    display: none;
+    position: fixed;
+    top: 0;
+    left: 0;
+    width: 100%;
+    height: 100%;
+    background-color: rgba(127, 127, 127, 0.8); /* 80%透明的灰度 */
+    z-index: 999; /* 位于弹出层下方 */
+}
+.pop-header {
+    display: flex;
+    align-items: center;
+    justify-content: space-between;
+    padding: 20px;
+}
+
+.pop-title {
+    font-size: 30px;
+}
+
+.pop-close {
+    font-size: 30px; /* Match the font-size of the title for alignment */
+    color: #72767b;
+}
+
+.pop-close:hover {
+    color: #fb326c;
+}
+.pop-body-list-item {
+    padding: 20px;
+    display: flex; /* 使用flex布局使子元素水平排列 */
+    align-items: center; /* 垂直居中子元素 */
+}
+
+.pop-body-text {
+    /* 为文本添加一些内边距或者宽度，使其更加清晰 */
+    padding-right: 10px;
+}
+
+/* 如果需要，可以为button设置样式，以确保布局的正确 */
+.pop-body-list-item button {
+    /* 例如，添加一些右边距 */
+    margin-left: 10px;
+}
+.pop-body-image {
+    width: 80px;
+    height: 80px;
+    border-radius: 50%;
+    margin-right: 10px;
+}
+/*输入框样式*/
+
+.input-container {
+    margin-bottom: 10px;
+    display: flex;
+    justify-content: space-around;
+    align-items: center;
+}
+.input-container label {
+    color: #6d6d6d;
+    padding: 20px;
+}
+.input-container input {
+    width: 100px;
+    background-color: #f8f8fb;
+    padding: 5px 10px;
+
+    border: 1px solid #d9d9d9;
+    border-radius: 4px;
+}
+.input-container input:focus {
+    border-color: #fb326c;
+}
+.submit-button {
+    background-color: #007bff;
+    color: white;
+    border: none;
+    padding: 10px 20px;
+    border-radius: 4px;
+    cursor: pointer;
+    display: flex;
+    margin-left: 180px;
+}
+.submit-button:hover {
+    background-color: #0056b3;
+}
\ No newline at end of file
Index: target/MySSM/WEB-INF/jsp/allfuns.jsp
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><%--\n  Created by IntelliJ IDEA.\n  User: 十一月的肖邦\n  Date: 2025/1/2\n  Time: 15:46\n  To change this template use File | Settings | File Templates.\n--%>\n<%@ page contentType=\"text/html;charset=UTF-8\" language=\"java\" %>\n<!DOCTYPE html>\n<html lang=\"zh\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>教育管理系统</title>\n    <style>\n        body {\n            margin: 0;\n            font-family: Arial, sans-serif;\n        }\n\n        .header {\n            background-color: #333;\n            color: white;\n            padding: 10px 20px;\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n        }\n\n        .header .logo {\n            font-size: 24px;\n        }\n\n        .header .user-info {\n            display: flex;\n            align-items: center;\n        }\n\n        .header .user-info img {\n            width: 40px;\n            height: 40px;\n            border-radius: 50%;\n            margin-right: 10px;\n        }\n\n        .sidebar {\n            width: 200px;\n            background-color: #f4f4f4;\n            height: 100vh;\n            position: fixed;\n            overflow-y: auto;\n        }\n\n        .content {\n            margin-left: 200px;\n            padding: 20px;\n        }\n\n        .sidebar ul {\n            list-style: none;\n            padding: 0;\n        }\n\n        .sidebar ul li {\n            padding: 10px;\n            cursor: pointer;\n        }\n\n        .sidebar ul li:hover {\n            background-color: #ddd;\n        }\n    </style>\n</head>\n<body>\n\n<div class=\"header\">\n    <div class=\"logo\">系统Logo</div>\n    <div class=\"title\">学生管理系统</div>\n    <div class=\"user-info\">\n        <img src=\"../images/1.png\" alt=\"用户头像\">\n        <div>用户名</div>\n        <!-- 添加onclick事件，当点击\"我的\"时跳转到个人中心页面 -->\n        <div style=\"margin-left: 10px; cursor: pointer;\" onclick=\"navigate('profile')\">我的</div>\n        <!-- 添加onclick事件，当点击\"设置\"时跳转到设置页面 -->\n        <div style=\"margin-left: 10px; cursor: pointer;\" onclick=\"navigate('settings')\">设置</div>\n        <!-- 添加onclick事件，当点击\"退出登录\"时执行退出登录操作 -->\n        <div style=\"margin-left: 10px; cursor: pointer;\" onclick=\"navigate('logout')\">退出登录</div>\n    </div>\n</div>\n\n\n<div class=\"sidebar\">\n    <ul>\n        <li onclick=\"navigate('home')\">首页</li>\n        <li onclick=\"navigate('teacher')\">教师管理</li>\n        <li onclick=\"navigate('student')\">学生管理</li>\n        <li onclick=\"navigate('class')\">班级管理</li>\n        <li onclick=\"navigate('course')\">课程管理</li>\n        <li onclick=\"navigate('college')\">学院管理</li>\n    </ul>\n</div>\n\n<div class=\"content\" id=\"main-content\">\n    <h1>欢迎使用教育管理系统</h1>\n    <p>请从左侧菜单选择一个模块。</p>\n</div>\n<script>\n    const contextPath = \"${pageContext.request.contextPath}\";\n</script>\n<script src=\"../js/allfuns.js\"></script>\n</body>\n</html>\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/target/MySSM/WEB-INF/jsp/allfuns.jsp b/target/MySSM/WEB-INF/jsp/allfuns.jsp
--- a/target/MySSM/WEB-INF/jsp/allfuns.jsp	(revision 4a49462e1981e81c199d08907454e641d53cfb41)
+++ b/target/MySSM/WEB-INF/jsp/allfuns.jsp	(date 1736832952828)
@@ -12,82 +12,26 @@
     <meta charset="UTF-8">
     <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <title>教育管理系统</title>
-    <style>
-        body {
-            margin: 0;
-            font-family: Arial, sans-serif;
-        }
-
-        .header {
-            background-color: #333;
-            color: white;
-            padding: 10px 20px;
-            display: flex;
-            justify-content: space-between;
-            align-items: center;
-        }
-
-        .header .logo {
-            font-size: 24px;
-        }
-
-        .header .user-info {
-            display: flex;
-            align-items: center;
-        }
-
-        .header .user-info img {
-            width: 40px;
-            height: 40px;
-            border-radius: 50%;
-            margin-right: 10px;
-        }
-
-        .sidebar {
-            width: 200px;
-            background-color: #f4f4f4;
-            height: 100vh;
-            position: fixed;
-            overflow-y: auto;
-        }
-
-        .content {
-            margin-left: 200px;
-            padding: 20px;
-        }
-
-        .sidebar ul {
-            list-style: none;
-            padding: 0;
-        }
-
-        .sidebar ul li {
-            padding: 10px;
-            cursor: pointer;
-        }
-
-        .sidebar ul li:hover {
-            background-color: #ddd;
-        }
-    </style>
+    <link rel="stylesheet" href="../css/styles.css"> <!-- 添加CSS文件引入 -->
+    <link rel="stylesheet" href="../css/allfuns.css"> <!-- 添加新的CSS文件引入 -->
 </head>
 <body>
 
 <div class="header">
     <div class="logo">系统Logo</div>
     <div class="title">学生管理系统</div>
-    <div class="user-info">
-        <img src="../images/1.png" alt="用户头像">
-        <div>用户名</div>
-        <!-- 添加onclick事件，当点击"我的"时跳转到个人中心页面 -->
-        <div style="margin-left: 10px; cursor: pointer;" onclick="navigate('profile')">我的</div>
-        <!-- 添加onclick事件，当点击"设置"时跳转到设置页面 -->
-        <div style="margin-left: 10px; cursor: pointer;" onclick="navigate('settings')">设置</div>
-        <!-- 添加onclick事件，当点击"退出登录"时执行退出登录操作 -->
-        <div style="margin-left: 10px; cursor: pointer;" onclick="navigate('logout')">退出登录</div>
+    <div class="dropdown">
+        <div class="dropbtn">
+            <img src="../images/1.png" class="user-info-img" alt="用户头像">
+            <div>${usermsg}</div>
+        </div>
+        <div class="dropdown-content">
+            <div class="user-action" onclick="showPopupLayer()">我的</div>
+
+            <div class="user-action" onclick="navigate('logout')">退出登录</div>
+        </div>
     </div>
 </div>
-
 
 <div class="sidebar">
     <ul>
@@ -104,9 +48,86 @@
     <h1>欢迎使用教育管理系统</h1>
     <p>请从左侧菜单选择一个模块。</p>
 </div>
+<%--弹出层的标签--%>
+<!-- 遮罩层 -->
+<div id="overlay"></div>
+<!-- 按钮用于触发弹出层 -->
+<button id="popup-button">点击弹出</button>
+<!-- 弹出层，初始时隐藏 -->
+<div id="popup-layer" style="display:none;">
+    <div class="pop-header">
+        <div class="pop-title">个人信息</div>
+        <div id="close-button" class="pop-close" style="cursor:pointer;">×</div>
+    </div>
+    <div class="pop-body-list-item">
+        <div class="pop-body-text">
+            <text style="color: #6d6d6d;padding-right: 20px">
+                用户头像:
+            </text>
+        </div>
+        <div class="pop-body-image">
+            <img class="pop-body-image" src="../images/1.png" style="vertical-align: middle;">
+        </div>
+    </div>
+    <div class="pop-body-list-item" style="display: flex; align-items: center;">
+        <text style="color: #6d6d6d;padding-right: 20px;">用户昵称:</text>
+        <div id="nicknameDisplay">${usermsg}</div>
+        <img id="editNickname" style="width: 17px;height: 17px;padding-left: 15px; cursor:pointer;"
+             src="../images/pen.png" alt="Edit">
+        <div id="nicknameInputContainer" style="display:none; flex-grow: 1; position: relative;">
+            <input type="text" id="nicknameInput" value="${usermsg}"
+                   style="width: 100%; height: 34px; background-color: #f8f8fb; border-color: #fb326c;padding: 0; box-sizing: border-box;">
+            <button id="confirmBtn"
+                    style="display:none; position: absolute; right: 0; top: 0; height: 34px; border: none; background: none;">
+                确认
+            </button>
+        </div>
+    </div>
+    <div class="pop-body-list-item">
+        <text style="color: #6d6d6d;padding-right: 20px">
+            手机号码
+        </text>
+        <div>
+            -
+        </div>
+    </div>
+    <div class="pop-body-list-item">
+        <text style="color: #6d6d6d;padding-right: 20px">
+            邮箱号码
+        </text>
+        <div>
+            -
+        </div>
+    </div>
+    <div class="pop-header" style="padding-top: 80px">
+        <div class="pop-title">更改密码</div>
+    </div>
+    <form onsubmit="checkAndUpdatePassword(); return false;">
+        <div style="width: 300px;height: 300px;">
+            <div class="input-container">
+                <label for="originalPassword">原密码：</label>
+                <input type="password" id="originalPassword" required>
+            </div>
+
+            <div class="input-container">
+                <label for="newPassword">新密码：</label>
+                <input type="password" id="newPassword" required>
+            </div>
+
+            <div class="input-container">
+                <label for="confirmPassword">确认新密码：</label>
+                <input style="margin-right: 9px" type="password" id="confirmPassword" required>
+            </div>
+
+            <input type="submit" value="确认修改" class="submit-button">
+        </div>
+    </form>
+</div>
 <script>
     const contextPath = "${pageContext.request.contextPath}";
 </script>
 <script src="../js/allfuns.js"></script>
+<%--弹出层的script--%>
+
 </body>
-</html>
+</html>
\ No newline at end of file
Index: target/MySSM/WEB-INF/css/teacher.css
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/target/MySSM/WEB-INF/css/teacher.css b/target/MySSM/WEB-INF/css/teacher.css
new file mode 100644
--- /dev/null	(date 1736832952829)
+++ b/target/MySSM/WEB-INF/css/teacher.css	(date 1736832952829)
@@ -0,0 +1,128 @@
+/* teacher.css */
+
+/* 基本样式 */
+body {
+    font-family: Arial, sans-serif;
+    background-color: #f4f4f9;
+    margin: 0;
+    padding: 0;
+}
+
+h1 {
+    color: #333;
+    text-align: center;
+    margin: 20px 0;
+}
+
+/* 表格样式 */
+table {
+    width: 100%;
+    border-collapse: collapse;
+    margin: 20px 0;
+    background-color: #fff;
+    box-shadow: 0 2px 3px rgba(0, 0, 0, 0.1);
+}
+
+th, td {
+    border: 1px solid #ddd;
+    padding: 12px;
+    text-align: left;
+}
+
+th {
+    background-color: #f2f2f2;
+    color: #333;
+}
+
+tr:nth-child(even) {
+    background-color: #f9f9f9;
+}
+
+tr:hover {
+    background-color: #f1f1f1;
+}
+
+/* 操作列宽度设置 */
+th:last-child, td:last-child {
+    width: 250px;
+}
+
+/* 添加按钮样式 */
+.action-links a.add-button {
+    background-color: #28a745;
+    color: #fff;
+    border: none;
+    padding: 10px 20px;
+    border-radius: 5px;
+    text-decoration: none;
+    font-weight: bold;
+    transition: background-color 0.3s;
+}
+
+.action-links a.add-button:hover {
+    background-color: #218838;
+}
+
+.action-links a.add-button:active {
+    background-color: #1e7e34;
+}
+
+/* 按钮样式 */
+.action-links a.btn-edit,
+.action-links a.btn-delete,
+.action-links a.btn-detail {
+    background-color: #4CAF50;
+    color: white;
+    padding: 8px 12px; /* 修改: 减小按钮的内边距 */
+    border: none;
+    border-radius: 4px; /* 修改: 减小按钮的圆角 */
+    cursor: pointer;
+    margin-right: 4px; /* 修改: 减小按钮之间的间距 */
+}
+
+.action-links a.btn-delete {
+    background-color: #f44336;
+}
+
+.action-links a.btn-detail {
+    background-color: #007bff;
+}
+
+
+/* 搜索输入框样式 */
+.action-links {
+    display: flex;
+    justify-content: space-between; /* 修改: 使用 space-between 使添加按钮和搜索表单分别位于两端 */
+    align-items: center;
+    margin-bottom: 20px;
+}
+
+.search-container {
+    display: flex;
+    align-items: center;
+}
+
+.search-input {
+    padding: 8px;
+    margin-right: 8px;
+    border: 1px solid #ccc;
+    border-radius: 4px;
+    width: 200px; /* 根据需要调整宽度 */
+}
+
+.search-button {
+    background-color: #007bff;
+    color: white;
+    border: none;
+    padding: 8px 16px;
+    border-radius: 4px;
+    cursor: pointer;
+}
+
+.search-button:hover {
+    background-color: #0056b3;
+}
+
+.search-button:active {
+    background-color: #004494;
+}
\ No newline at end of file
Index: target/MySSM/WEB-INF/jsp/success.jsp
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><%--\n  Created by IntelliJ IDEA.\n  User: 十一月的肖邦\n  Date: 2024/12/30\n  Time: 9:55\n  To change this template use File | Settings | File Templates.\n--%>\n<%@ page contentType=\"text/html;charset=UTF-8\" language=\"java\" %>\n<html>\n<head>\n    <title>Title</title>\n  <h2>测试成功le</h2>\n</head>\n<body>\n\n</body>\n</html>\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/target/MySSM/WEB-INF/jsp/success.jsp b/target/MySSM/WEB-INF/jsp/success.jsp
--- a/target/MySSM/WEB-INF/jsp/success.jsp	(revision 4a49462e1981e81c199d08907454e641d53cfb41)
+++ b/target/MySSM/WEB-INF/jsp/success.jsp	(date 1736832952828)
@@ -1,17 +1,94 @@
-<%--
-  Created by IntelliJ IDEA.
-  User: 十一月的肖邦
-  Date: 2024/12/30
-  Time: 9:55
-  To change this template use File | Settings | File Templates.
---%>
 <%@ page contentType="text/html;charset=UTF-8" language="java" %>
-<html>
+<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
+<!DOCTYPE html>
+<html lang="en">
 <head>
-    <title>Title</title>
-  <h2>测试成功le</h2>
+    <meta charset="UTF-8">
+    <title>Password Update Form</title>
+    <style>
+
+        .input-container {
+            margin-bottom: 10px;
+            display: flex;
+            justify-content: space-around;
+            align-items: center;
+        }
+        .input-container label {
+            color: #6d6d6d;
+
+        }
+        .input-container input {
+            width: 100px;
+            background-color: #f8f8fb;
+            padding: 5px 10px;
+            border: 1px solid #d9d9d9;
+            border-radius: 4px;
+        }
+        .input-container input:focus {
+            border-color: #fb326c;
+        }
+        .submit-button {
+            background-color: #007bff;
+            color: white;
+            border: none;
+            padding: 10px 20px;
+            border-radius: 4px;
+            cursor: pointer;
+            display: flex;
+            margin-left: 180px;
+        }
+        .submit-button:hover {
+            background-color: #0056b3;
+        }
+    </style>
+    <script>
+        function checkAndUpdatePassword() {
+            var originalPassword = document.getElementById('originalPassword').value;
+            var newPassword = document.getElementById('newPassword').value;
+            var confirmPassword = document.getElementById('confirmPassword').value;
+
+            if (newPassword !== confirmPassword) {
+                alert('两次输入的密码不同，请重新输入。');
+                return;
+            }
+
+            var xhr = new XMLHttpRequest();
+            xhr.open('GET', '/updatepasswd?originalPassword=' + encodeURIComponent(originalPassword) + '&newPassword=' + encodeURIComponent(newPassword), true);
+            xhr.onreadystatechange = function () {
+                if (xhr.readyState === 4) {
+                    if (xhr.status === 200) {
+                        alert('密码更新成功！');
+                    } else {
+                        alert('密码更新失败：' + xhr.statusText);
+                    }
+                }
+            };
+            xhr.send();
+        }
+    </script>
 </head>
 <body>
 
+<form onsubmit="checkAndUpdatePassword(); return false;">
+    <div style="width: 300px;height: 300px;">
+        <div class="input-container">
+            <label for="originalPassword">原密码：</label>
+            <input type="password" id="originalPassword" required>
+        </div>
+
+        <div class="input-container">
+            <label for="newPassword">新密码：</label>
+            <input type="password" id="newPassword" required>
+        </div>
+
+        <div class="input-container">
+            <label for="confirmPassword">确认新密码：</label>
+            <input style="margin-right: 9px" type="password" id="confirmPassword" required>
+        </div>
+
+        <input type="submit" value="确认修改" class="submit-button">
+    </div>
+</form>
+
 </body>
 </html>
Index: target/MySSM/WEB-INF/css/common.css
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/target/MySSM/WEB-INF/css/common.css b/target/MySSM/WEB-INF/css/common.css
new file mode 100644
--- /dev/null	(date 1736832952828)
+++ b/target/MySSM/WEB-INF/css/common.css	(date 1736832952828)
@@ -0,0 +1,134 @@
+/* ... existing code ... */
+body {
+    margin: 0;
+    font-family: Arial, sans-serif;
+    background-color: #f4f4f9;
+    display: flex;
+    justify-content: center;
+    align-items: center;
+    height: 100vh;
+}
+
+.header {
+    background-color: #333;
+    color: white;
+    padding: 10px 20px;
+    display: flex;
+    justify-content: space-between;
+    align-items: center;
+}
+
+.header .logo {
+    font-size: 24px;
+}
+
+.header .user-info {
+    display: flex;
+    align-items: center;
+}
+
+.header .user-info-img {
+    width: 40px;
+    height: 40px;
+    border-radius: 50%;
+    margin-right: 10px;
+}
+
+.sidebar {
+    width: 200px;
+    background-color: #f4f4f4;
+    height: 100vh;
+    position: fixed;
+    overflow-y: auto;
+}
+
+.content {
+    margin-left: 200px;
+    padding: 20px;
+}
+
+.sidebar ul {
+    list-style: none;
+    padding: 0;
+}
+
+.sidebar ul li {
+    padding: 10px;
+    cursor: pointer;
+}
+
+.sidebar ul li:hover {
+    background-color: #ddd;
+}
+
+.form-container {
+    background-color: #fff;
+    padding: 20px;
+    border-radius: 8px;
+    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
+    width: 300px;
+}
+
+.form-header {
+    text-align: center;
+    margin-bottom: 20px;
+}
+
+.form-header h2 {
+    margin: 0;
+    font-size: 24px;
+    color: #333;
+}
+
+.form-header span {
+    font-size: 14px;
+    color: #666;
+}
+
+.form-header a {
+    color: #007bff;
+    text-decoration: none;
+}
+
+.form-header a:hover {
+    text-decoration: underline;
+}
+
+label {
+    display: block;
+    margin-bottom: 5px;
+    font-weight: bold;
+    color: #333;
+}
+
+input[type="text"],
+input[type="password"] {
+    width: 100%;
+    padding: 8px;
+    margin-bottom: 10px;
+    border: 1px solid #ccc;
+    border-radius: 4px;
+    box-sizing: border-box;
+}
+
+button {
+    width: 100%;
+    padding: 10px;
+    background-color: #007bff;
+    color: #fff;
+    border: none;
+    border-radius: 4px;
+    cursor: pointer;
+    font-size: 16px;
+}
+
+button:hover {
+    background-color: #0056b3;
+}
+
+#responseMessage {
+    margin-top: 10px;
+    text-align: center;
+    color: red;
+}
+/* ... existing code ... */
\ No newline at end of file
Index: target/MySSM/WEB-INF/jsp/register.jsp
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><!DOCTYPE html>\n<%@ page contentType=\"text/html;charset=UTF-8\" language=\"java\" %>\n<%@ page isELIgnored=\"false\" %>\n<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <title>用户注册</title>\n    <script src=\"https://code.jquery.com/jquery-3.6.0.min.js\"></script>\n    <script src=\"${pageContext.request.contextPath}/js/register.js\"></script>\n    <script>\n        // 定义上下文路径变量\n        var contextPath = \"${pageContext.request.contextPath}\";\n    </script>\n</head>\n<body>\n\n<div class=\"form-container\">\n    <div class=\"form-header\">\n        <h2>用户注册</h2>\n        <span>已经在系统中？<a href=\"${pageContext.request.contextPath}/user/loginpage\">登录</a></span>\n    </div>\n\n    <form id=\"registrationForm\">\n        <label for=\"username\">用户名:</label>\n        <input type=\"text\" id=\"username\" name=\"username\" required>\n        <br><br>\n        <label for=\"password\">密码:</label>\n        <input type=\"password\" id=\"password\" name=\"password\" required>\n        <br><br>\n        <button type=\"submit\">注册</button>\n    </form>\n\n    <div id=\"responseMessage\"></div>\n</div>\n\n</body>\n</html>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/target/MySSM/WEB-INF/jsp/register.jsp b/target/MySSM/WEB-INF/jsp/register.jsp
--- a/target/MySSM/WEB-INF/jsp/register.jsp	(revision 4a49462e1981e81c199d08907454e641d53cfb41)
+++ b/target/MySSM/WEB-INF/jsp/register.jsp	(date 1736832952829)
@@ -8,6 +8,7 @@
     <title>用户注册</title>
     <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
     <script src="${pageContext.request.contextPath}/js/register.js"></script>
+    <link rel="stylesheet" href="${pageContext.request.contextPath}/css/common.css">
     <script>
         // 定义上下文路径变量
         var contextPath = "${pageContext.request.contextPath}";
Index: src/main/java/com/cnlbc/pojo/Teacher.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/java/com/cnlbc/pojo/Teacher.java b/src/main/java/com/cnlbc/pojo/Teacher.java
new file mode 100644
--- /dev/null	(date 1736832908136)
+++ b/src/main/java/com/cnlbc/pojo/Teacher.java	(date 1736832908136)
@@ -0,0 +1,21 @@
+package com.cnlbc.pojo;
+import lombok.AllArgsConstructor;
+import lombok.Data;
+import lombok.NoArgsConstructor;
+import org.springframework.context.annotation.Bean;
+
+@Data
+/*等同于各个字段的get()和set()方法*/
+@NoArgsConstructor
+/*等同于无参构造*/
+@AllArgsConstructor
+/*等同于全参构造*/
+public class Teacher {
+    private String teacherId;
+    private String name;
+    private String gender;
+    private String title;
+    private String fieldofStudy;
+    private String contactNumber;
+    private String departmentid;
+}
\ No newline at end of file
Index: src/main/java/com/cnlbc/repository/CourseRepository.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/java/com/cnlbc/repository/CourseRepository.java b/src/main/java/com/cnlbc/repository/CourseRepository.java
new file mode 100644
--- /dev/null	(date 1736832908136)
+++ b/src/main/java/com/cnlbc/repository/CourseRepository.java	(date 1736832908136)
@@ -0,0 +1,8 @@
+package com.cnlbc.repository;
+import com.cnlbc.pojo.Course;
+import org.apache.ibatis.annotations.*;
+import java.util.List;
+
+public interface CourseRepository {
+
+}
\ No newline at end of file
Index: src/main/java/com/cnlbc/pojo/Class.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/java/com/cnlbc/pojo/Class.java b/src/main/java/com/cnlbc/pojo/Class.java
new file mode 100644
--- /dev/null	(date 1736832908136)
+++ b/src/main/java/com/cnlbc/pojo/Class.java	(date 1736832908136)
@@ -0,0 +1,20 @@
+package com.cnlbc.pojo;
+import lombok.AllArgsConstructor;
+import lombok.Data;
+import lombok.NoArgsConstructor;
+import org.springframework.context.annotation.Bean;
+
+@Data
+/*等同于各个字段的get()和set()方法*/
+@NoArgsConstructor
+/*等同于无参构造*/
+@AllArgsConstructor
+/*等同于全参构造*/
+// Class.java
+public class Class {
+    private String classId;
+    private String className;
+    private String grade;
+    private String teacherId;
+}
+
Index: src/main/java/com/cnlbc/pojo/Course.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/java/com/cnlbc/pojo/Course.java b/src/main/java/com/cnlbc/pojo/Course.java
new file mode 100644
--- /dev/null	(date 1736832908136)
+++ b/src/main/java/com/cnlbc/pojo/Course.java	(date 1736832908136)
@@ -0,0 +1,30 @@
+package com.cnlbc.pojo;
+import lombok.AllArgsConstructor;
+import lombok.Data;
+import lombok.NoArgsConstructor;
+import org.springframework.context.annotation.Bean;
+
+@Data
+/*等同于各个字段的get()和set()方法*/
+@NoArgsConstructor
+/*等同于无参构造*/
+@AllArgsConstructor
+/*等同于全参构造*/
+public class Course {
+    private String courseId;
+    private String courseName;
+    private String description;
+    private String departmentId;
+
+    // 生成相应的Getter、Setter方法以及构造函数（这里省略）
+
+    @Override
+    public String toString() {
+        return "Course{" +
+                "courseId='" + courseId + '\'' +
+                ", courseName='" + courseName + '\'' +
+                ", description='" + description + '\'' +
+                ", departmentId='" + departmentId + '\'' +
+                '}';
+    }
+}
\ No newline at end of file
Index: src/main/webapp/WEB-INF/js/teacher.js
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/webapp/WEB-INF/js/teacher.js b/src/main/webapp/WEB-INF/js/teacher.js
new file mode 100644
--- /dev/null	(date 1736832908137)
+++ b/src/main/webapp/WEB-INF/js/teacher.js	(date 1736832908137)
@@ -0,0 +1,96 @@
+$(document).ready(function() {
+    // 从HTML元素中读取数据
+    var paginationElement = $(".pagination");
+    var currentPage = parseInt(paginationElement.data("current-page"), 10) || 1;
+    var totalPages = parseInt(paginationElement.data("total-pages"), 10) || 1;
+    var pageSize = parseInt(paginationElement.data("page-size"), 10) || 10;
+
+    function loadTeachers(page, pageSize, searchName, searchId) {
+        console.log("Loading teachers for page: " + page);
+        $.ajax({
+            url: contextPath + "/teacher/findall",
+            type: "GET",
+            data: {
+                page: page,
+                pageSize: pageSize,
+                name: searchName,
+                id: searchId
+            },
+            success: function(response) {
+                var teachers = response.teachers;
+                var tbody = $("#teacherTable tbody");
+                tbody.empty();
+                if (teachers && teachers.length > 0) {
+                    teachers.forEach(function(teacher) {
+                        var row = "<tr>" +
+                            "<td>" + teacher.teacherId + "</td>" +
+                            "<td>" + teacher.name + "</td>" +
+                            "<td>" + teacher.gender + "</td>" +
+                            "<td>" + teacher.title + "</td>" +
+                            "<td>" + teacher.contactNumber + "</td>" +
+                            "<td>" + teacher.fieldofStudy + "</td>" +
+                            "<td>" + teacher.departmentid + "</td>" +
+                            "<td class=\"action-links\">" +
+                                "<a href=\"" + contextPath + "/teacher/edit/" + teacher.teacherId + "\" class=\"btn-edit\">编辑</a>" +
+
+                                "<a href=\"#\" onclick=\"confirmDelete('" + teacher.teacherId + "')\" class=\"btn-delete\">删除</a>" +
+
+                                "<a href=\"" + contextPath + "/teacher/detail/" + teacher.teacherId + "\" class=\"btn-detail\">详情</a>" +
+                            "</td>" +
+                            "</tr>";
+                        tbody.append(row);
+                    });
+                } else {
+                    tbody.append("<tr><td colspan='8'>没有找到教师数据</td></tr>");
+                }
+
+                // 更新分页信息
+                $("#currentPage").text(response.currentPage || 1);
+                $("#totalPages").text(response.totalPages || 1);
+            },
+            error: function(xhr, status, error) {
+                console.error("加载教师数据失败:", xhr.responseText); // 更详细的错误信息
+                alert("加载教师数据失败: " + error);
+            }
+        });
+    }
+
+    // 初始化加载
+    loadTeachers(currentPage, pageSize, "", "");
+
+    // 上一页按钮点击事件
+    $(".pagination a:contains('上一页')").click(function(event) {
+        event.preventDefault();
+        if (currentPage > 1) {
+            currentPage--;
+            var searchName = $("#searchName").val();
+            var searchId = $("#searchId").val();
+            loadTeachers(currentPage, pageSize, searchName, searchId);
+        }
+    });
+
+    // 下一页按钮点击事件
+    $(".pagination a:contains('下一页')").click(function(event) {
+        event.preventDefault();
+        if (currentPage < totalPages) {
+            currentPage++;
+            var searchName = $("#searchName").val();
+            var searchId = $("#searchId").val();
+            loadTeachers(currentPage, pageSize, searchName, searchId);
+        }
+    });
+
+    // 搜索按钮点击事件
+    $("#searchButton").click(function() {
+        currentPage = 1; // 重置当前页为第一页
+        var searchName = $("#searchName").val();
+        var searchId = $("#searchId").val();
+        loadTeachers(currentPage, pageSize, searchName, searchId);
+    });
+});
+
+function confirmDelete(teacherId) {
+    if (confirm("您确定要删除工号为 " + teacherId + " 的教师吗？")) {
+        window.location.href = contextPath + "/teacher/delete/" + teacherId;
+    }
+}
Index: src/main/java/com/cnlbc/pojo/Student.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/java/com/cnlbc/pojo/Student.java b/src/main/java/com/cnlbc/pojo/Student.java
new file mode 100644
--- /dev/null	(date 1736832908136)
+++ b/src/main/java/com/cnlbc/pojo/Student.java	(date 1736832908136)
@@ -0,0 +1,19 @@
+package com.cnlbc.pojo;
+import lombok.AllArgsConstructor;
+import lombok.Data;
+import lombok.NoArgsConstructor;
+import org.springframework.context.annotation.Bean;
+
+@Data
+/*等同于各个字段的get()和set()方法*/
+@NoArgsConstructor
+/*等同于无参构造*/
+@AllArgsConstructor
+/*等同于全参构造*/
+// Student.java
+public class Student {
+    private String studentId;
+    private String name;
+    private String gender;
+    private int age;
+}
Index: src/main/webapp/WEB-INF/css/allfuns.css
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/webapp/WEB-INF/css/allfuns.css b/src/main/webapp/WEB-INF/css/allfuns.css
new file mode 100644
--- /dev/null	(date 1736832908136)
+++ b/src/main/webapp/WEB-INF/css/allfuns.css	(date 1736832908136)
@@ -0,0 +1,199 @@
+body {
+    margin: 0;
+    font-family: Arial, sans-serif;
+}
+
+.header {
+    background-color: #333;
+    color: white;
+    padding: 10px 20px;
+    display: flex;
+    justify-content: space-between;
+    align-items: center;
+}
+
+.header .logo {
+    font-size: 24px;
+}
+
+.sidebar {
+    width: 200px;
+    background-color: #f4f4f4;
+    height: 100vh;
+    position: fixed;
+    overflow-y: auto;
+}
+
+.content {
+    margin-left: 200px;
+    padding: 20px;
+}
+
+.sidebar ul {
+    list-style: none;
+    padding: 0;
+}
+
+.sidebar ul li {
+    padding: 10px;
+    cursor: pointer;
+}
+
+.sidebar ul li:hover {
+    background-color: #ddd;
+}
+/*下拉菜单栏的样式*/
+/* 定义图标和下拉菜单的样式 */
+.dropdown {
+    position: relative;
+    display: inline-block;
+    background-color: #333;
+}
+.dropbtn{
+    display: flex;
+    justify-content: center;
+    align-items: center;
+    cursor: pointer;
+}
+.dropdown:hover .dropdown-content {
+    display: block;
+}
+
+.dropdown-content {
+    padding-top: 10px;
+    display: none;
+    position: absolute;
+    background-color: #333;
+    min-width: 160px;
+    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
+    z-index: 1;
+}
+.user-action{
+    padding: 10px;
+    cursor: pointer;
+}
+.dropdown-content a {
+    color: black;
+    padding: 12px 16px;
+    text-decoration: none;
+    display: block;
+}
+
+.dropdown-content div:hover {
+    background-color: #f1f1f1;
+    color: black;
+}
+.user-info-img{
+        width: 40px;
+        height: 40px;
+        border-radius: 50%;
+        margin-right: 10px;
+}
+/*弹出层的样式*/
+/* 主页面背景样式 */
+body.modal-open {
+    background-color: rgba(0, 0, 0, 0.5); /* 半透明灰色 */
+}
+
+/* 弹出层样式，宽度为500px，高度为页面高度 */
+#popup-layer {
+    width: 400px;
+    height: 100%;
+    position: fixed;
+    right: 0;
+    top: 0;
+    background-color: white;
+    padding: 20px;
+    box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
+    z-index: 1000;
+    overflow-y: auto; /* 如果内容超出，允许滚动 */
+}
+
+/* 遮罩层样式，覆盖整个页面并变为指定的灰度 */
+#overlay {
+    display: none;
+    position: fixed;
+    top: 0;
+    left: 0;
+    width: 100%;
+    height: 100%;
+    background-color: rgba(127, 127, 127, 0.8); /* 80%透明的灰度 */
+    z-index: 999; /* 位于弹出层下方 */
+}
+.pop-header {
+    display: flex;
+    align-items: center;
+    justify-content: space-between;
+    padding: 20px;
+}
+
+.pop-title {
+    font-size: 30px;
+}
+
+.pop-close {
+    font-size: 30px; /* Match the font-size of the title for alignment */
+    color: #72767b;
+}
+
+.pop-close:hover {
+    color: #fb326c;
+}
+.pop-body-list-item {
+    padding: 20px;
+    display: flex; /* 使用flex布局使子元素水平排列 */
+    align-items: center; /* 垂直居中子元素 */
+}
+
+.pop-body-text {
+    /* 为文本添加一些内边距或者宽度，使其更加清晰 */
+    padding-right: 10px;
+}
+
+/* 如果需要，可以为button设置样式，以确保布局的正确 */
+.pop-body-list-item button {
+    /* 例如，添加一些右边距 */
+    margin-left: 10px;
+}
+.pop-body-image {
+    width: 80px;
+    height: 80px;
+    border-radius: 50%;
+    margin-right: 10px;
+}
+/*输入框样式*/
+
+.input-container {
+    margin-bottom: 10px;
+    display: flex;
+    justify-content: space-around;
+    align-items: center;
+}
+.input-container label {
+    color: #6d6d6d;
+    padding: 20px;
+}
+.input-container input {
+    width: 100px;
+    background-color: #f8f8fb;
+    padding: 5px 10px;
+
+    border: 1px solid #d9d9d9;
+    border-radius: 4px;
+}
+.input-container input:focus {
+    border-color: #fb326c;
+}
+.submit-button {
+    background-color: #007bff;
+    color: white;
+    border: none;
+    padding: 10px 20px;
+    border-radius: 4px;
+    cursor: pointer;
+    display: flex;
+    margin-left: 180px;
+}
+.submit-button:hover {
+    background-color: #0056b3;
+}
\ No newline at end of file
Index: src/main/webapp/WEB-INF/css/teacher.css
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/webapp/WEB-INF/css/teacher.css b/src/main/webapp/WEB-INF/css/teacher.css
new file mode 100644
--- /dev/null	(date 1736832908137)
+++ b/src/main/webapp/WEB-INF/css/teacher.css	(date 1736832908137)
@@ -0,0 +1,128 @@
+/* teacher.css */
+
+/* 基本样式 */
+body {
+    font-family: Arial, sans-serif;
+    background-color: #f4f4f9;
+    margin: 0;
+    padding: 0;
+}
+
+h1 {
+    color: #333;
+    text-align: center;
+    margin: 20px 0;
+}
+
+/* 表格样式 */
+table {
+    width: 100%;
+    border-collapse: collapse;
+    margin: 20px 0;
+    background-color: #fff;
+    box-shadow: 0 2px 3px rgba(0, 0, 0, 0.1);
+}
+
+th, td {
+    border: 1px solid #ddd;
+    padding: 12px;
+    text-align: left;
+}
+
+th {
+    background-color: #f2f2f2;
+    color: #333;
+}
+
+tr:nth-child(even) {
+    background-color: #f9f9f9;
+}
+
+tr:hover {
+    background-color: #f1f1f1;
+}
+
+/* 操作列宽度设置 */
+th:last-child, td:last-child {
+    width: 250px;
+}
+
+/* 添加按钮样式 */
+.action-links a.add-button {
+    background-color: #28a745;
+    color: #fff;
+    border: none;
+    padding: 10px 20px;
+    border-radius: 5px;
+    text-decoration: none;
+    font-weight: bold;
+    transition: background-color 0.3s;
+}
+
+.action-links a.add-button:hover {
+    background-color: #218838;
+}
+
+.action-links a.add-button:active {
+    background-color: #1e7e34;
+}
+
+/* 按钮样式 */
+.action-links a.btn-edit,
+.action-links a.btn-delete,
+.action-links a.btn-detail {
+    background-color: #4CAF50;
+    color: white;
+    padding: 8px 12px; /* 修改: 减小按钮的内边距 */
+    border: none;
+    border-radius: 4px; /* 修改: 减小按钮的圆角 */
+    cursor: pointer;
+    margin-right: 4px; /* 修改: 减小按钮之间的间距 */
+}
+
+.action-links a.btn-delete {
+    background-color: #f44336;
+}
+
+.action-links a.btn-detail {
+    background-color: #007bff;
+}
+
+
+/* 搜索输入框样式 */
+.action-links {
+    display: flex;
+    justify-content: space-between; /* 修改: 使用 space-between 使添加按钮和搜索表单分别位于两端 */
+    align-items: center;
+    margin-bottom: 20px;
+}
+
+.search-container {
+    display: flex;
+    align-items: center;
+}
+
+.search-input {
+    padding: 8px;
+    margin-right: 8px;
+    border: 1px solid #ccc;
+    border-radius: 4px;
+    width: 200px; /* 根据需要调整宽度 */
+}
+
+.search-button {
+    background-color: #007bff;
+    color: white;
+    border: none;
+    padding: 8px 16px;
+    border-radius: 4px;
+    cursor: pointer;
+}
+
+.search-button:hover {
+    background-color: #0056b3;
+}
+
+.search-button:active {
+    background-color: #004494;
+}
\ No newline at end of file
Index: src/main/java/com/cnlbc/repository/TeacherRepository.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/java/com/cnlbc/repository/TeacherRepository.xml b/src/main/java/com/cnlbc/repository/TeacherRepository.xml
new file mode 100644
--- /dev/null	(date 1736832908136)
+++ b/src/main/java/com/cnlbc/repository/TeacherRepository.xml	(date 1736832908136)
@@ -0,0 +1,32 @@
+<?xml version="1.0" encoding="UTF-8" ?>
+<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
+
+<mapper namespace="com.cnlbc.repository.TeacherRepository">
+
+    <select id="findAllTeacher" resultType="Teacher">
+        SELECT * FROM teachers
+    </select>
+
+    <select id="findTeacherById" resultType="Teacher">
+        SELECT * FROM teachers WHERE teacher_id = #{teacherId}
+    </select>
+
+    <insert id="addTeacher" parameterType="Teacher">
+        INSERT INTO teachers (teacher_id, name, gender, title, fieldofstudy, contact_number, departmentid)
+        VALUES (#{teacherId}, #{name}, #{gender}, #{title}, #{fieldofStudy}, #{contactNumber}, #{departmentid})
+    </insert>
+
+    <update id="updateTeacher" parameterType="Teacher">
+        UPDATE teachers
+        SET name = #{name}, gender = #{gender}, title = #{title}, fieldofstudy = #{fieldofStudy}, contact_number = #{contactNumber}, departmentid = #{departmentid}
+        WHERE teacher_id = #{teacherId}
+    </update>
+
+    <delete id="deleteTeacher">
+        DELETE FROM teachers WHERE teacher_id = #{teacherId}
+    </delete>
+
+    <select id="countTeachers" resultType="int">
+        SELECT COUNT(*) FROM teachers
+    </select>
+</mapper>
Index: src/main/java/com/cnlbc/repository/TeacherRepository.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/java/com/cnlbc/repository/TeacherRepository.java b/src/main/java/com/cnlbc/repository/TeacherRepository.java
new file mode 100644
--- /dev/null	(date 1736832908136)
+++ b/src/main/java/com/cnlbc/repository/TeacherRepository.java	(date 1736832908136)
@@ -0,0 +1,21 @@
+package com.cnlbc.repository;
+
+import com.cnlbc.pojo.Teacher;
+import org.apache.ibatis.annotations.Mapper;
+
+import java.util.List;
+
+@Mapper
+public interface TeacherRepository {
+    public List<Teacher> findAllTeacher();
+
+    public Teacher findTeacherById(String teacherId);
+
+    public void addTeacher(Teacher teacher);
+
+    public void updateTeacher(Teacher teacher);
+
+    public void deleteTeacher(String teacherId);
+
+    public int countTeachers();
+}
Index: src/main/java/com/cnlbc/repository/ClassRepository.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/java/com/cnlbc/repository/ClassRepository.java b/src/main/java/com/cnlbc/repository/ClassRepository.java
new file mode 100644
--- /dev/null	(date 1736832908136)
+++ b/src/main/java/com/cnlbc/repository/ClassRepository.java	(date 1736832908136)
@@ -0,0 +1,11 @@
+package com.cnlbc.repository;
+
+import org.apache.ibatis.annotations.Param;
+
+import java.util.List;
+
+// ClassMapper.java
+public interface ClassRepository {
+
+}
+
Index: src/main/java/com/cnlbc/repository/CourseRepository.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/java/com/cnlbc/repository/CourseRepository.xml b/src/main/java/com/cnlbc/repository/CourseRepository.xml
new file mode 100644
--- /dev/null	(date 1736832908136)
+++ b/src/main/java/com/cnlbc/repository/CourseRepository.xml	(date 1736832908136)
@@ -0,0 +1,29 @@
+<?xml version="1.0" encoding="UTF-8" ?>
+<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
+
+<mapper namespace="com.cnlbc.repository.CourseRepository">
+
+    <select id="findAllCourses" resultType="com.cnlbc.pojo.Course">
+        SELECT * FROM courses
+    </select>
+
+    <select id="findCourseById" resultType="com.cnlbc.pojo.Course">
+        SELECT * FROM courses WHERE course_id = #{courseId}
+    </select>
+
+    <insert id="addCourse" parameterType="com.cnlbc.pojo.Course">
+        INSERT INTO courses (course_id, course_name, description, department_id)
+        VALUES (#{courseId}, #{courseName}, #{description}, #{departmentId})
+    </insert>
+
+    <update id="updateCourse" parameterType="com.cnlbc.pojo.Course">
+        UPDATE courses
+        SET course_name = #{courseName}, description = #{description}, department_id = #{departmentId}
+        WHERE course_id = #{courseId}
+    </update>
+
+    <delete id="deleteCourse">
+        DELETE FROM courses WHERE course_id = #{courseId}
+    </delete>
+
+</mapper>
Index: src/main/java/com/cnlbc/repository/StudentRepository.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/java/com/cnlbc/repository/StudentRepository.xml b/src/main/java/com/cnlbc/repository/StudentRepository.xml
new file mode 100644
--- /dev/null	(date 1736832908136)
+++ b/src/main/java/com/cnlbc/repository/StudentRepository.xml	(date 1736832908136)
@@ -0,0 +1,29 @@
+<?xml version="1.0" encoding="UTF-8" ?>
+<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
+
+<mapper namespace="com.cnlbc.repository.StudentRepository">
+
+    <select id="findAllStudents" resultType="com.cnlbc.pojo.Student">
+        SELECT * FROM students
+    </select>
+
+    <select id="findStudentById" resultType="com.cnlbc.pojo.Student">
+        SELECT * FROM students WHERE student_id = #{studentId}
+    </select>
+
+    <insert id="addStudent" parameterType="com.cnlbc.pojo.Student">
+        INSERT INTO students (student_id, student_name, age, department_id)
+        VALUES (#{studentId}, #{studentName}, #{age}, #{departmentId})
+    </insert>
+
+    <update id="updateStudent" parameterType="com.cnlbc.pojo.Student">
+        UPDATE students
+        SET student_name = #{studentName}, age = #{age}, department_id = #{departmentId}
+        WHERE student_id = #{studentId}
+    </update>
+
+    <delete id="deleteStudent">
+        DELETE FROM students WHERE student_id = #{studentId}
+    </delete>
+
+</mapper>
Index: src/main/java/com/cnlbc/repository/StudentRepository.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/java/com/cnlbc/repository/StudentRepository.java b/src/main/java/com/cnlbc/repository/StudentRepository.java
new file mode 100644
--- /dev/null	(date 1736832908136)
+++ b/src/main/java/com/cnlbc/repository/StudentRepository.java	(date 1736832908136)
@@ -0,0 +1,10 @@
+package com.cnlbc.repository;
+
+import com.cnlbc.pojo.Student;
+
+import java.util.List;
+
+// StudentMapper.java
+public interface StudentRepository {
+    List<Student> getStudentsByClassId(String classId);
+}
Index: src/main/java/com/cnlbc/controller/HomeController.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>//\n// Source code recreated from a .class file by IntelliJ IDEA\n// (powered by FernFlower decompiler)\n//\n\npackage com.cnlbc.controller;\n\nimport com.cnlbc.pojo.User;\nimport com.cnlbc.service.UserService;\nimport java.util.List;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.RequestMapping;\n\n@Controller\n@RequestMapping({\"/home\"})\npublic class HomeController {\n    @Autowired\n    private UserService userService;\n\n    public HomeController() {\n    }\n\n    @RequestMapping(\"/findAllUser\")\n    public String home(Model model, HttpServletRequest request, HttpServletResponse response){\n            List<User> users = this.userService.findAllUser();\n            model.addAttribute(\"list\", users);\n        return \"home\";\n    }\n    //进入主页面\n    @RequestMapping(\"/allfunspage\")\n    public String homepage(){\n        return \"allfuns\";\n    }\n}\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/java/com/cnlbc/controller/HomeController.java b/src/main/java/com/cnlbc/controller/HomeController.java
--- a/src/main/java/com/cnlbc/controller/HomeController.java	(revision 4a49462e1981e81c199d08907454e641d53cfb41)
+++ b/src/main/java/com/cnlbc/controller/HomeController.java	(date 1736832930269)
@@ -7,19 +7,25 @@
 
 import com.cnlbc.pojo.User;
 import com.cnlbc.service.UserService;
+import java.io.IOException;
 import java.util.List;
+import javax.servlet.ServletException;
 import javax.servlet.http.HttpServletRequest;
 import javax.servlet.http.HttpServletResponse;
+import javax.servlet.http.HttpSession;
+
 import org.springframework.beans.factory.annotation.Autowired;
 import org.springframework.stereotype.Controller;
 import org.springframework.ui.Model;
 import org.springframework.web.bind.annotation.RequestMapping;
+import org.springframework.web.servlet.ModelAndView;
 
 @Controller
 @RequestMapping({"/home"})
 public class HomeController {
     @Autowired
     private UserService userService;
+    private User user;
 
     public HomeController() {
     }
@@ -31,8 +37,11 @@
         return "home";
     }
     //进入主页面
-    @RequestMapping("/allfunspage")
-    public String homepage(){
-        return "allfuns";
+
+    //进入教师管理页面
+    @RequestMapping("/teachermanage")
+    public String teachermanage(){
+        return "teacher";
     }
+
 }
